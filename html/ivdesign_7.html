<div class="container">

<table style="width: 100%;"><tr>
<td>PER_CI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct a two-sided confidence interval for the pooled
effect ratio</h2>

<h3>Description</h3>

<p><code>PER_CI</code> returns the two-sided level-alpha confidence
interval of the pooled effect ratio in a cluster-randomized
encouragement experiment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PER_CI(
  R_t,
  R_c,
  d_t,
  d_c,
  lower,
  upper,
  Q = NULL,
  meshsize = 0.001,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>R_t</code></td>
<td>
<p>A length-K vector where K is equal to the number of
clusters and the kth entry equal to
the sum of unit-level outcomes in the encouraged cluster
of the kth matched pair of two clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R_c</code></td>
<td>
<p>A length-K vector where K is equal to the number of
clusters and the kth entry equal to
the sum of unit-level outcomes in the control cluster
of the kth matched pair of two clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_t</code></td>
<td>
<p>A length-K vector where K is equal to the number of
clusters and the kth entry equal to the sum of unit-level
treatment received in the encouraged cluster
of the kth matched pair of two clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_c</code></td>
<td>
<p>A length-K vector where K is equal to the number of
clusters and the kth entry equal to the sum of unit-level
treatment received in the control cluster
of the kth matched pair of two clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower, upper</code></td>
<td>
<p>The lower and upper endpoints of the interval to be searched.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>A K times p design matrix containing the covariate information.
See Details of the function <code>PER</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meshsize</code></td>
<td>
<p>The meshsize of the grid search.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The level of the confidence interval.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>PER_CI</code> constructs a two-sided level-alpha confidence interval
by interting the corresponding hypothesis test for the pooled effect
ratio. See <code>PER</code> for details on the hypothesis tesing.
<code>PER_CI</code> conducts a grid search with user-specified endpoints
and meshsize in order to construct the confidence interval.
</p>


<h3>Value</h3>

<p>A length-2 vector of two endpoints of the confidence interval.
</p>


<h3>Examples</h3>

<pre><code class="language-R">R_t = encouraged_clusters$aggregated_outcome
R_c = control_clusters$aggregated_outcome
d_t = encouraged_clusters$aggregated_treatment
d_c = control_clusters$aggregated_treatment

# Construct 95% CI for the pooled effect ratio estimand
# using the default sample variance estimator, i.e.,
# setting Q = NULL.
CI = PER_CI(R_t, R_c, d_t, d_c, lower = -0.1, upper = 0.1,
           alpha = 0.05)

</code></pre>


</div>
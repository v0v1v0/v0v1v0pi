<div class="container">

<table style="width: 100%;"><tr>
<td>oanda</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>OANDA Price Data</h2>

<h3>Description</h3>

<p>Retrieve price data for major currencies, metals, commodities, government
bonds and stock indices from the OANDA fxTrade API.
</p>


<h3>Usage</h3>

<pre><code class="language-R">oanda(
  instrument,
  granularity = c("D", "W", "M", "H12", "H8", "H6", "H4", "H3", "H2", "H1", "M30", "M15",
    "M10", "M5", "M4", "M2", "M1", "S30", "S15", "S10", "S5"),
  count = NULL,
  from = NULL,
  to = NULL,
  price = c("M", "B", "A"),
  server,
  apikey,
  quietly
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>instrument</code></td>
<td>
<p>string containing the base currency and quote currency
delimited by '_' or '-' (e.g. "USD_JPY" or "usd-jpy"). Use the
<code>oanda_instruments</code> function to return a list of all valid
instruments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>granularity</code></td>
<td>
<p>[default "D"] the granularity of the price data to fetch,
one of "M", "W", "D", "H12", "H8", "H6", "H4", "H3", "H2", "H1", "M30",
"M15", "M10", "M5", "M4", "M2", "M1", "S30", "S15", "S10", "S5".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count</code></td>
<td>
<p>(optional) the number of periods to return. The API supports a
maximum of 5000 for each individual request, and defaults to 500 if not
specified. If both 'from' and 'to' are specified, 'count' is ignored, as
the time range combined with 'granularity' will determine the number of
periods to return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>(optional) the start of the time range for which to fetch price
data, in a format convertible to POSIXct by <code>as.POSIXct()</code>, for
example "2020-02-01".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>(optional) the end of the time range for which to fetch price data,
in a format convertible to POSIXct by <code>as.POSIXct()</code>, for example
"2020-06-30".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>price</code></td>
<td>
<p>[default "M"] pricing component, one of "M" (midpoint), "B"
(bid) or "A" (ask).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>server</code></td>
<td>
<p>(optional) specify the "practice" or "live" server according to
the account type held. If not specified, will default to "practice",
unless this has been changed by <code>oanda_switch</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apikey</code></td>
<td>
<p>(optional) string containing the OANDA fxTrade API key
(personal access token), or function that returns this string. Does not
need to be specified if already stored as the environment variable
<code>OANDA_API_KEY</code> or by <code>oanda_set_key</code>. Can also be
entered interactively if not specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>(optional) if set to TRUE, will suppress printing of auxiliary
output to the console and return quietly.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function queries the OANDA fxTrade API.
</p>
<p>Requires an fxTrade account with OANDA
<a href="https://www.oanda.com/forex-trading/">https://www.oanda.com/forex-trading/</a>. If you do not already hold a
live account, you may register for an OANDA fxTrade practice / demo
account. There is a link on your OANDA fxTrade account profile page
'Manage API Access' (My Account -&gt; My Services -&gt; Manage API Access).
From there, a personal access token to use with the OANDA API can be
generated, as well as revoked.
</p>
<p>The <code>oanda_set_key</code> function can be used to save the API key
in the system credential store so that it is automatically recognised in
future (requires the 'keyring' package to be installed).
</p>


<h3>Value</h3>

<p>A data.frame containing the price data requested.
</p>


<h3>Further Details</h3>

<p>Please refer to the OANDA fxTrade API vignette by calling:
<code>vignette("xoanda", package = "ichimoku")</code>.
</p>
<p>'OANDA' and 'fxTrade' are trademarks owned by OANDA Corporation, an
entity unaffiliated with the ichimoku package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# OANDA fxTrade API key required to run these examples
prices &lt;- oanda("USD_JPY")
ichimoku(prices)

oanda("EUR_JPY", granularity = "H1", count = 250, from = "2020-02-01", price = "B")

## End(Not run)

</code></pre>


</div>
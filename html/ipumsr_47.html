<div class="container">

<table style="width: 100%;"><tr>
<td>ipums_extract-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code>ipums_extract</code> class</h2>

<h3>Description</h3>

<p>The <code>ipums_extract</code> class provides a data structure for storing the
extract definition and status of an IPUMS data extract request. Both
submitted and unsubmitted extract requests are stored in <code>ipums_extract</code>
objects.
</p>
<p><code>ipums_extract</code> objects are further divided into microdata
and aggregate data classes, and will also include
a collection-specific extract subclass to accommodate differences in
extract options and content across collections.
</p>
<p>Currently supported collections are:
</p>

<ul>
<li>
<p> IPUMS microdata
</p>

<ul>
<li>
<p> IPUMS USA
</p>
</li>
<li>
<p> IPUMS CPS
</p>
</li>
<li>
<p> IPUMS International
</p>
</li>
<li>
<p> IPUMS Time Use (ATUS, AHTUS, MTUS)
</p>
</li>
<li>
<p> IPUMS Health Surveys (NHIS, MEPS)
</p>
</li>
</ul>
</li>
<li>
<p> IPUMS aggregate data
</p>

<ul><li>
<p> IPUMS NHGIS
</p>
</li></ul>
</li>
</ul>
<p>Learn more about the IPUMS API in <code>vignette("ipums-api")</code>.
</p>


<h3>Properties</h3>

<p>Objects of class <code>ipums_extract</code> have:
</p>

<ul>
<li>
<p> A <code>class</code> attribute of the form
<code>c("{collection}_extract", "{collection_type}_extract", "ipums_extract")</code>.
For instance, <code>c("cps_extract", "micro_extract", "ipums_extract")</code>.
</p>
</li>
<li>
<p> A base type of <code>"list"</code>.
</p>
</li>
<li>
<p> A <code>names</code> attribute that is a character vector the same length as the
underlying list.
</p>
</li>
</ul>
<p>All <code>ipums_extract</code> objects will include several core fields identifying
the extract and its status:
</p>

<ul>
<li> <p><code>collection</code>: the collection for the extract request.
</p>
</li>
<li> <p><code>description</code>: the description of the extract request.
</p>
</li>
<li> <p><code>submitted</code>: logical indicating whether the extract request has been
submitted to the IPUMS API for processing.
</p>
</li>
<li> <p><code>download_links</code>: links to the downloadable data, if the extract request
was completed at the time it was last checked.
</p>
</li>
<li> <p><code>number</code>: the number of the extract request. With <code>collection</code>, this
uniquely identifies an extract request for a given user.
</p>
</li>
<li> <p><code>status</code>: status of the extract request at the time it was last checked.
One of <code>"unsubmitted"</code>, <code>"queued"</code>, <code>"started"</code>, <code>"produced"</code>,
<code>"canceled"</code>, <code>"failed"</code>, or <code>"completed"</code>.
</p>
</li>
</ul>
<h3>Creating or obtaining an extract</h3>


<ul>
<li>
<p> Create an <code>ipums_extract</code> object from scratch with the appropriate
<code style="white-space: pre;">⁠define_extract_*()⁠</code> function.
</p>

<ul>
<li>
<p> For microdata extracts, use <code>define_extract_micro()</code>
</p>
</li>
<li>
<p> For NHGIS extracts, use <code>define_extract_nhgis()</code>
</p>
</li>
</ul>
</li>
<li>
<p> Use <code>get_extract_info()</code> to get the definition and latest status of a
previously-submitted extract request.
</p>
</li>
<li>
<p> Use <code>get_extract_history()</code> to get the definitions and latest status of
multiple previously-submitted extract requests.
</p>
</li>
</ul>
<h3>Submitting an extract</h3>


<ul>
<li>
<p> Use <code>submit_extract()</code> to submit an extract request for processing through
the IPUMS API.
</p>
</li>
<li>
<p> Use <code>wait_for_extract()</code> to periodically check the status of a submitted
extract request until it is ready to download.
</p>
</li>
<li>
<p> Use <code>is_extract_ready()</code> to manually check whether a submitted extract
request is ready to download.
</p>
</li>
</ul>
<h3>Downloading an extract</h3>


<ul><li>
<p> Download the data contained in a completed extract with
<code>download_extract()</code>.
</p>
</li></ul>
<h3>Saving an extract</h3>


<ul>
<li>
<p> Save an extract to a JSON-formatted file with <code>save_extract_as_json()</code>.
</p>
</li>
<li>
<p> Create an <code>ipums_extract</code> object from a saved JSON-formatted definition
with <code>define_extract_from_json()</code>.
</p>
</li>
</ul>
</div>
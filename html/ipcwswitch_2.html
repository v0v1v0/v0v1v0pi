<div class="container">

<table style="width: 100%;"><tr>
<td>ipcw</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Computing the stabilized IPCweights</h2>

<h3>Description</h3>

<p>Computing the stabilized IPCweights
</p>


<h3>Usage</h3>

<pre><code class="language-R">ipcw(
  data,
  id,
  tstart,
  tstop,
  cens,
  arm,
  bas.cov,
  conf,
  trunc = NULL,
  type = "kaplan-meier"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe containing the following variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>the patient's id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tstart</code></td>
<td>
<p>the date of the beginning of the follow-up (in numeric format, with the first being equal at 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tstop</code></td>
<td>
<p>the date of the end of the follow-up (in numeric format)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cens</code></td>
<td>
<p>the indicator of treatment censoring (denoted by 1 at the end of the follow-up)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arm</code></td>
<td>
<p>the randomized treatment (2-levels factor)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bas.cov</code></td>
<td>
<p>a vector the baseline covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>a vector of time-dependent confounders</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trunc</code></td>
<td>
<p>an optional fraction for the weights. For instance, when trunc = 0.01,
the left tail is truncated to the 1st percentile and the right tail is truncated to the 99th percentile</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character string specifying the type of survival curve. The default is <code>type=`kaplan-meier`</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the initial dataframe data with stabilized IPCweights as additional arguments. By default, the un-truncated stabilized weights are given. If the trunc option is not NULL then the truncated stabilized weights are also given.
</p>


<h3>References</h3>

<p>Graffeo, N., Latouche, A., Le Tourneau C., Chevret, S. (2019) "ipcwswitch: an R package for inverse probability of censoring weighting with an application to switches in clinical trials". Computers in biology and medicine, 111, 103339. doi : "10.1016/j.compbiomed.2019.103339"
</p>


<h3>See Also</h3>

<p><code>SHIdat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run
# ipcw(toy.rep, tstart = tstart, tstop = tstop, cens = cens,
# arm="arm",
# bas.cov = c("age"),
# conf = c("TDconf"), trunc = 0.05)

# see ?SHIdat for a complete example
</code></pre>


</div>
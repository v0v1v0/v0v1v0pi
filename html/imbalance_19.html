<div class="container">

<table style="width: 100%;"><tr>
<td>wracog</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wrapper for rapidly converging Gibbs algorithm.</h2>

<h3>Description</h3>

<p>Generates synthetic minority examples by approximating their probability
distribution until sensitivity of <code>wrapper</code> over <code>validation</code>
cannot be further improved. Works only on discrete numeric datasets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wracog(
  train,
  validation,
  wrapper,
  slideWin = 10,
  threshold = 0.02,
  classAttr = "Class",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p><code>data.frame</code>. A initial dataset to generate first model.
All columns, except <code>classAttr</code> one, have to be numeric or coercible
to numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validation</code></td>
<td>
<p><code>data.frame</code>. A dataset to compare results of
consecutive classifiers. Must have the same structure of <code>train</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrapper</code></td>
<td>
<p>An <code>S3</code> object. There must exist a method
<code>trainWrapper</code> implemented for the class of the object, and a
<code>predict</code> method implemented for the class of the model
returned by <code>trainWrapper</code>. Alternatively, it can the name of one of
the wrappers distributed with the package, <code>"KNN"</code> or <code>"C5.0"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slideWin</code></td>
<td>
<p>Number of last sensitivities to take into account to meet the
stopping criteria. By default, 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Threshold that the last <code>slideWin</code> sensitivities mean
should reach. By default, 0.02.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>train</code> and <code>validation</code>. Must exist in them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments for <code>wrapper</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Until the last <code>slideWin</code> executions of <code>wrapper</code> over
<code>validation</code> dataset reach a mean sensitivity lower than
<code>threshold</code>, the algorithm keeps generating samples using Gibbs Sampler,
and adding misclassified samples with respect to a model generated by a
former train, to the train dataset. Initial model is built on initial
<code>train</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the same structure as <code>train</code>,
containing the generated synthetic examples.
</p>


<h3>References</h3>

<p>Das, Barnan; Krishnan, Narayanan C.; Cook, Diane J. Racog and Wracog: Two
Probabilistic Oversampling Techniques. IEEE Transactions on Knowledge and
Data Engineering 27(2015), Nr. 1, p. 222â€“234.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(haberman)

# Create train and validation partitions of haberman
trainFold &lt;- sample(1:nrow(haberman), nrow(haberman)/2, FALSE)
trainSet &lt;- haberman[trainFold, ]
validationSet &lt;- haberman[-trainFold, ]

# Defines our own wrapper with a C5.0 tree
myWrapper &lt;- structure(list(), class="TestWrapper")
trainWrapper.TestWrapper &lt;- function(wrapper, train, trainClass){
  C50::C5.0(train, trainClass)
}

# Execute wRACOG with our own wrapper
newSamples &lt;- wracog(trainSet, validationSet, myWrapper,
                     classAttr = "Class")


# Execute wRACOG with predifined wrappers for "KNN" or "C5.0"
KNNSamples &lt;- wracog(trainSet, validationSet, "KNN")
C50Samples &lt;- wracog(trainSet, validationSet, "C5.0")

</code></pre>


</div>
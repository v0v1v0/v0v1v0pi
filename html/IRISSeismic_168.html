<div class="container">

<table style="width: 100%;"><tr>
<td>Stream-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Class <code>"Stream"</code> </h2>

<h3>Description</h3>

<p>A <code>Stream</code> object containing a list of <code>Trace</code> objects.
</p>


<h3>Objects from the Class</h3>

<p>Objects are typically created by calls to getDataselect.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>url</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>:
URL request used to generate this <code>Stream</code>. </p>
</dd>
<dt>
<code>requestedStarttime</code>:</dt>
<dd>
<p>Object of class <code>"POSIXct"</code>:
starttime used when requesting data with <code>getDataselect</code>. </p>
</dd>
<dt>
<code>requestedEndtime</code>:</dt>
<dd>
<p>Object of class <code>"POSIXct"</code>:
endtime used when requesting data with <code>getDataselect</code>. </p>
</dd>
<dt>
<code>act_flags</code>:</dt>
<dd>
<p>Object of class <code>"integer"</code>:
Accumulators for the act_flags bits in each miniSEED record. </p>
</dd>
<dt>
<code>io_flags</code>:</dt>
<dd>
<p>Object of class <code>"integer"</code>:
Accumulators for the io_flags bits in each miniSEED record. </p>
</dd>
<dt>
<code>dq_flags</code>:</dt>
<dd>
<p>Object of class <code>"integer"</code>:
Accumulators for the dq_flags bits in each miniSEED record. </p>
</dd>
<dt>
<code>timing_qual</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>:
Average timing quality associated with miniSEED records.</p>
</dd>
<dt>
<code>traces</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>:
List of <code>Trace</code> objects. </p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>getGaps</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns information on data dropouts between <code>Traces</code>; see getGaps </p>
</dd>
<dt>getUpDownTimes</dt>
<dd>
<p><code>signature(x="Stream", min_signal="numeric", min_gap="numeric")</code>: 
returns a vector of datetimes associated with channel up/down transitions; see getUpDownTimes </p>
</dd>
<dt>length</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns the total number of data points in all <code>Traces</code> </p>
</dd>
<dt>max</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns the overall data maximum for all data in all <code>Traces</code> </p>
</dd>
<dt>median</dt>
<dd>
<p><code>signature(x="Stream", na.rm= "logical")</code>: 
returns the overall data median for all data in all <code>Traces</code> </p>
</dd>
<dt>mean</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns the overall data mean for all data in all <code>Traces</code> </p>
</dd>
<dt>mergeTraces</dt>
<dd>
<p><code>signature(x="Stream", fillMethod="fillNA")</code>: 
returns a new <code>Stream</code> object where all <code>Traces</code> have been merged into a single <code>Trace</code> mergeTraces </p>
</dd>
<dt>min</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns the overall data minimum for all data in all <code>Traces</code> </p>
</dd>
<dt>multiplyBy</dt>
<dd>
<p><code>signature(x="Stream", y="numeric")</code>: 
returns a new <code>Stream</code> object where the data in every <code>Trace</code> have been multiplied by y; see multiplyBy </p>
</dd>
<dt>parallelLength</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns a vector of data lengths, one for each <code>Trace</code> </p>
</dd>
<dt>parallelMax</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns a vector of data maxima, one for each <code>Trace</code> </p>
</dd>
<dt>parallelMedian</dt>
<dd>
<p><code>signature(x="Stream", na.rm= "logical")</code>: 
returns a vector of data medians, one for each <code>Trace</code> </p>
</dd>
<dt>parallelMean</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns a vector of data means, one for each <code>Trace</code> </p>
</dd>
<dt>parallelMin</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns a vector of data minima, one for each <code>Trace</code> </p>
</dd>
<dt>parallelRms</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns a vector of RMS calculations, one for each <code>Trace</code>; see rmsVariance </p>
</dd>
<dt>parallelRmsVariance</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns a vector of RMS variance calculations, one for each <code>Trace</code>; see rmsVariance </p>
</dd>
<dt>parallelSd</dt>
<dd>
<p><code>signature(x="Stream", na.rm="logical")</code>: 
returns a vector of standard deviation calculations, one for each <code>Trace</code> </p>
</dd>
<dt>plot</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
default plot of the merged <code>Traces</code> in a <code>Stream</code> with appropriate labeling</p>
</dd>
<dt>plotUpDownTimes</dt>
<dd>
<p><code>signature(x="Stream", min_signal="numeric", min_gap="numeric")</code>: 
plots the times at which a <code>Stream</code> transitions from data collection to non-collection (on/off); see getUpDownTimes</p>
</dd>
<dt>rms</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns the overall Root Mean Square amplitude for all data in all <code>Traces</code>; see rmsVariance </p>
</dd>
<dt>rmsVariance</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns the overall RMS variance for all data in all <code>Traces</code>; see rmsVariance </p>
</dd>
<dt>sd</dt>
<dd>
<p><code>signature(x="Stream", na.rm="logical")</code>: 
returns the overall standard deviations for all data in all <code>Traces</code> </p>
</dd>
<dt>slice</dt>
<dd>
<p><code>signature(x="Stream", starttime="POSIXct", endtime="POSIXct")</code>: 
returns a new <code>Stream</code> sliced out of an existing <code>Stream</code> (see slice)</p>
</dd>
<dt>uniqueIds</dt>
<dd>
<p><code>signature(x="Stream")</code>: 
returns a vector of SNCLQ identifiers, one for each <code>Trace</code> </p>
</dd>
</dl>
<h3>Note</h3>

<p>The <code>Stream</code> object is inspired by the <code>Stream</code> class found in the
python ObsPy package (<a href="https://docs.obspy.org/packages/autogen/obspy.core.stream.Stream.html">https://docs.obspy.org/packages/autogen/obspy.core.stream.Stream.html</a>).
</p>
<p>The miniSEED flags and timing_qual values are described in the SEED manual
(<a href="http://www.fdsn.org/seed_manual/SEEDManual_V2.4.pdf">http://www.fdsn.org/seed_manual/SEEDManual_V2.4.pdf</a>).  The "accumulators" contain
counts of the number of times each bit flag was set during the parsing of a miniSEED file.
These attributes are retained primarily for assessing data quality issues within the IRIS DMC.
</p>
<p>The following code documentation describes how each of the flags is used within miniSEED files:
</p>
<pre>
  # act_flags
  # [1] Calibration signals present
  # [2] Time correction applied
  # [3] Beginning of an event, station trigger
  # [4] End of an event, station detrigger
  # [5] A positive leap second happened in this record
  # [6] A negative leap second happened in this record
  # [7] Event in progress
  # [8] Undefined bit set

  # io_flags
  # [1] Station volume parity error possibly present
  # [2] Long record read (possibly no problem)
  # [3] Short record read (record padded)
  # [4] Start of time series
  # [5] End of time series
  # [6] Clock locked
  # [7] Undefined bit set
  # [8] Undefined bit set

  # dq_flags
  # [1] Amplifier saturation detected
  # [2] Digitizer clipping detected
  # [3] Spikes detected
  # [4] Glitches detected
  # [5] Missing/padded data present
  # [6] Telemetry synchronization error
  # [7] A digital filter may be charging
  # [8] Time tag is questionable
</pre>


<h3>Author(s)</h3>

<p>Jonathan Callahan <a href="mailto:jonathan@mazamascience.com">jonathan@mazamascience.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Open a connection to IRIS DMC webservices
iris &lt;- new("IrisClient")

starttime &lt;- as.POSIXct("2012-01-24", tz="GMT")
endtime &lt;- as.POSIXct("2012-01-25", tz="GMT")

# Get the waveform
st &lt;- getDataselect(iris,"AK","PIN","","BHZ",starttime,endtime)
min(st)
median(st)
mean(st)
max(st)
sd(st)
rms(st)
rmsVariance(st)

## End(Not run)
</code></pre>


</div>
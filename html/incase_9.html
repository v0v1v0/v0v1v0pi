<div class="container">

<table style="width: 100%;"><tr>
<td>grep_case</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Switch-style recoding of values with string pattern matching</h2>

<h3>Description</h3>

<p>Switch-style recoding of values with string pattern matching
</p>


<h3>Usage</h3>

<pre><code class="language-R">grep_case(x, ..., preserve = FALSE, default = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>&lt;<code>dynamic-dots</code>&gt; A sequence of two-sided
formulas or named arguments.
</p>

<ul>
<li> <p><strong>Formulas</strong>: Elements of <code>x</code> that match the regex pattern on the
left hand side (LHS) of formulas will be replaced with the value in the
right hand side (RHS).
The LHS must evaluate to a character string.
The RHS must be of length one.
<code>NULL</code> inputs are ignored.
</p>
</li>
<li> <p><strong>Named arguments</strong>: named arguments are passed to <code>grepl()</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preserve</code></td>
<td>
<p>If <code>TRUE</code>, unmatched elements of <code>x</code> will be returned
unmodified.
(The elements may have their type coerced to be compatible with
replacement values.)
If <code>FALSE</code>, unmatched elements of <code>x</code> will be replaced with <code>default</code>.
Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default</code></td>
<td>
<p>If <code>preserve</code> is <code>FALSE</code>, a value to replace unmatched
elements of <code>x</code>.
Defaults to <code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of the same length as <code>x</code>.
</p>


<h3>See Also</h3>

<p><code>grep_case_fct()</code> to return a factor and
<code>grep_case_list()</code> to return a list
</p>
<p><code>fn_case()</code>, to apply a function other than <code>grepl()</code> to each case
</p>
<p><code>switch_case()</code> to recode values with exact matching
</p>
<p><code>in_case()</code>, a pipeable alternative to <code>dplyr::case_when()</code>
</p>
<p><code>switch()</code> and <code>grepl()</code>, which inspired this function
</p>


<h3>Examples</h3>

<pre><code class="language-R">words &lt;- c("caterpillar", "dogwood", "catastrophe", "dogma")

grep_case(
  words,
  "cat" ~ "feline",
  "dog" ~ "canine"
)

caps_words &lt;- c("caterpillar", "dogwood", "Catastrophe", "DOGMA")

grep_case(
  caps_words,
  "cat" ~ "feline",
  "dog" ~ "canine",
  ignore.case = TRUE
)

countries &lt;- c(
  "France", "Ostdeutschland", "Westdeutschland", "Nederland",
  "Belgie (Vlaanderen)", "Belgique (Wallonie)", "Luxembourg", "Italia"
)

grep_case(
  countries,
  "Deutschland" ~ "Germany",
  "Belgi(qu)?e" ~ "Belgium",
  "Nederland"   ~ "Netherlands",
  "Italia"      ~ "Italy",
  preserve      = TRUE,
  ignore.case   = TRUE
)
</code></pre>


</div>
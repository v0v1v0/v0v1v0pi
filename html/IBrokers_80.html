<div class="container">

<table style="width: 100%;"><tr>
<td>twsScannerSubscription</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create ScannerSubscription
</h2>

<h3>Description</h3>

<p>Create an object for use with <code>reqScannerSubscription</code> and
<code>.reqScannerSubscription</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">twsScannerSubscription(numberOfRows = -1, 
                       instrument = "", 
                       locationCode = "", 
                       scanCode = "", 
                       abovePrice = "", 
                       belowPrice = "", 
                       aboveVolume = "",
                       averageOptionVolumeAbove = "",
                       marketCapAbove = "", 
                       marketCapBelow = "", 
                       moodyRatingAbove = "", 
                       moodyRatingBelow = "", 
                       spRatingAbove = "", 
                       spRatingBelow = "", 
                       maturityDateAbove = "", 
                       maturityDateBelow = "", 
                       couponRateAbove = "", 
                       couponRateBelow = "", 
                       excludeConvertible = "", 
                       scannerSettingPairs = "", 
                       stockTypeFilter = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>numberOfRows</code></td>
<td>

<p>Number of rows of scanner results returned
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>instrument</code></td>
<td>

<p>A character string of STK, ...
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locationCode</code></td>
<td>

<p>A character string of STK.NA, STK.US, STK.US.MAJOR, ...
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scanCode</code></td>
<td>

<p>One of the available scans. See details
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abovePrice</code></td>
<td>

<p>Price to filter above
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>belowPrice</code></td>
<td>

<p>Price to filter below
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aboveVolume</code></td>
<td>

<p>Volume to filter above
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>averageOptionVolumeAbove</code></td>
<td>

<p>Average option volume above this
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marketCapAbove</code></td>
<td>

<p>Market cap to filter above
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marketCapBelow</code></td>
<td>

<p>Market cap to filter below
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moodyRatingAbove</code></td>
<td>

<p>Moody rating to filter above
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moodyRatingBelow</code></td>
<td>

<p>Moody rating to filter below
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spRatingAbove</code></td>
<td>

<p>S&amp;P rating to filter above
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spRatingBelow</code></td>
<td>

<p>S&amp;P rating to filter below
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maturityDateAbove</code></td>
<td>

<p>Maturity date to filter above
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maturityDateBelow</code></td>
<td>

<p>Maturity date to filter below
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>couponRateAbove</code></td>
<td>

<p>Coupon rate to filter above
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>couponRateBelow</code></td>
<td>

<p>Coupon rate to filter below
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excludeConvertible</code></td>
<td>

<p>?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scannerSettingPairs</code></td>
<td>

<p>?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stockTypeFilter</code></td>
<td>

<p>"ALL"?
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By necessity, design, or otherwise - scanner data is difficult
to correctly use at the API level.  The valid values and some
small examples are returned by the API using the related
<code>reqScannerParameters</code> function. The XML returned by that
call isn't very clear in its value or purpose though.
</p>


<h3>Value</h3>

<p>A (potentially) valid twsScannerSubscription object for
<code>reqScannerSubscription</code> calls.
</p>


<h3>Note</h3>

<p>Further documentation will be forthcoming. Users are encouraged to email use cases
to make for better documentation.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan
</p>


<h3>References</h3>

<p><a href="https://interactivebrokers.github.io/tws-api/classIBApi_1_1ScannerSubscription.html">https://interactivebrokers.github.io/tws-api/classIBApi_1_1ScannerSubscription.html</a>
</p>


<h3>See Also</h3>

<p><code>reqScannerSubscription</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">scnr &lt;- twsScannerSubscription(numberOfRows=10,
                               instrument="STK",
                               locationCode="STK.US.MAJOR",
                               scanCode="TOP_PERC_GAIN",
                               aboveVolume=0,
                               marketCapAbove=1e8,
                               scannerSettingPairs="Annual,true",
                               stockTypeFilter="ALL")
scnr
</code></pre>


</div>
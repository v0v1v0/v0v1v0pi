<div class="container">

<table style="width: 100%;"><tr>
<td>predict.icrf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>icrf predictions</h2>

<h3>Description</h3>

<p>Prediction method of test data using interval censored recursive forest.
(Quoted statements are from
<code>randomForest</code> by Liaw and Wiener unless otherwise mentioned.)
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'icrf'
predict(
  object,
  newdata,
  predict.all = FALSE,
  proximity = FALSE,
  nodes = FALSE,
  smooth = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of <code>icrf</code> class generated by the function <code>icrf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>'a data frame or matrix containing new data. (Note: If not given,
the predicted survival estimate of the training data set in the <code>object</code> is returned.)'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict.all</code></td>
<td>
<p>'Should the predictions of all trees be kept?'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proximity</code></td>
<td>
<p>'Should proximity measures be computed?'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodes</code></td>
<td>
<p>'Should the terminal node indicators (an n by ntree matrix)
be returned? If so, it is in the "nodes" attribute of the returned object.'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Should smoothed curve be returned?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>'not used currently.'</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix of predicted survival probabilities is returned where the rows represent
the observations and the columns represent the time points.
'If predict.all=TRUE, then the returned object is a list of two components:
<code>aggregate</code>, which is the vector of predicted values by the forest,
and <code>individual</code>, which is a matrix where each column contains prediction
by a tree in the forest.' The forest is either the last forest or the best forest
as specified by <code>returnBest</code> argument in <code>icrf</code> function.
</p>
<p>'If <code>proximity=TRUE</code>, the returned object is a list with two components:
<code>pred</code> is the prediction (as described above) and
<code>proximity</code> is the proximitry matrix.'
</p>
<p>'If <code>nodes=TRUE</code>, the returned object has a "nodes" attribute,
which is an <code>n</code> by <code>ntree</code> matrix, each column containing the
node number that the cases fall in for that tree.'
</p>


<h3>Author(s)</h3>

<p>Hunyong Cho, Nicholas P. Jewell, and Michael R. Kosorok.
</p>


<h3>References</h3>

<p><a href="https://arxiv.org/abs/1912.09983">Cho H., Jewell N. J., and Kosorok M. R. (2020+). "Interval censored
recursive forests"</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># rats data example
# Note that this is a toy example. Use a larger ntree and nfold in practice.
library(survival)  # for Surv()
data(rat2)
set.seed(1)
samp &lt;- sample(1:dim(rat2)[1], 200)
rats.train &lt;- rat2[samp, ]
rats.test &lt;- rat2[-samp, ]
L = ifelse(rats.train$tumor, 0, rats.train$survtime)
R = ifelse(rats.train$tumor, rats.train$survtime, Inf)

 set.seed(2)
 rats.icrf.small &lt;-
   icrf(survival::Surv(L, R, type = "interval2") ~ dose.lvl + weight + male + cage.no,
        data = rats.train, ntree = 10, nfold = 3, proximity = TRUE)

 # predicted survival curve for the training data
 predict(rats.icrf.small)
 predict(rats.icrf.small, smooth = FALSE) # non-smoothed

 # predicted survival curve for new data
 predict(rats.icrf.small, newdata = rats.test)
 predict(rats.icrf.small, newdata = rats.test, proximity = TRUE)

 # time can be extracted using attr()
 newpred = predict(rats.icrf.small, newdata = rats.test)
 attr(newpred, "time")

 newpred2 = predict(rats.icrf.small, newdata = rats.test, proximity = TRUE)
 attr(newpred2$predicted, "time")




</code></pre>


</div>
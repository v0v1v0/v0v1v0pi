<div class="container">

<table style="width: 100%;"><tr>
<td>clip.small.probs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Replace probabilities below threshold with threshold value
</h2>

<h3>Description</h3>

<p>Return the provided vector with values smaller than the provided
threshold replaced with that threshold (i.e., clip the probabilities
below a certain value). If the threshold is chosen to match an empirical quantile
then this can be used to implement Winsorizing probabilities from below.
If no threshold is provided, the smallest value greater than zero is used.
</p>


<h3>Usage</h3>

<pre><code class="language-R">clip.small.probs(x, min.prob = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Vector of probabilities.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.prob</code></td>
<td>

<p>Threshold. Values smaller than <code>min.prob</code> are replaced with
<code>min.prob</code>. If not provided, set to the smallest value in
<code>x</code> greater than 0.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Used to avoid small probabilities blowing up in inverse probability weighting.
</p>
<p>Produces warnings whenever values are actually replaced.
</p>


<h3>Value</h3>

<p>Vector the same length as <code>x</code> with, possibly, some entries replaced.
</p>


<h3>Author(s)</h3>

<p>Peter M. Aronow &lt;peter.aronow@yale.edu&gt;, Dean Eckles &lt;icsw@deaneckles.com&gt;, Kyle Peyton &lt;kyle.peyton@yale.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
probs &lt;- seq(0, .01, by = .001)
min(clip.small.probs(probs, .05))

# without min.prob, uses smallest value &gt; 0
min(clip.small.probs(probs))

</code></pre>


</div>
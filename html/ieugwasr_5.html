<div class="container">

<table style="width: 100%;"><tr>
<td>api_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wrapper for sending queries and payloads to API</h2>

<h3>Description</h3>

<p>There are a number of different GET and POST endpoints in the GWAS database API.
This is a generic way to access them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">api_query(
  path,
  query = NULL,
  opengwas_jwt = get_opengwas_jwt(),
  method = "GET",
  silent = TRUE,
  encode = "json",
  timeout = 300,
  override_429 = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Either a full query path (e.g. for get) or an endpoint (e.g. for post) queries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>If post query, provide a list of arguments as the payload. <code>NULL</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opengwas_jwt</code></td>
<td>
<p>Used to authenticate protected endpoints. Login to https://api.opengwas.io to obtain a jwt. Provide the jwt string here, or store in .Renviron under the keyname OPENGWAS_JWT.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p><code>"GET"</code> (default) or <code>"POST"</code>, <code>"DELETE"</code> etc</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p><code>TRUE</code>/<code>FALSE</code> to be passed to httr call. <code>TRUE</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encode</code></td>
<td>
<p>Default = <code>"json"</code>, see <code>httr::POST</code> for options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>Default = <code>300</code>, avoid increasing this, preferentially
simplify the query first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>override_429</code></td>
<td>
<p>Default=FALSE. If allowance is exceeded then the query will error before submitting a request to avoid getting blocked. If you are sure you want to submit the request then set this to TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>httr response object
</p>


</div>
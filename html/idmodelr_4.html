<div class="container">

<table style="width: 100%;"><tr>
<td>aggregate_model_internal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An Internal Function to Aggregate Model Output Using other Idmodelr functions.</h2>

<h3>Description</h3>

<p>An Internal Function to Aggregate Model Output Using other Idmodelr functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aggregate_model_internal(
  df,
  aggregate_to = NULL,
  compartments = NULL,
  strat = NULL,
  hold_out_var = NULL,
  new_var = "incidence",
  id_col = NULL,
  groups = NULL,
  total_pop = TRUE,
  summary_var = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A dataframe of Model Output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregate_to</code></td>
<td>
<p>A character vector specifying the aggregation function to apply possible values are;
disease, demographic, or incidence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compartments</code></td>
<td>
<p>A character vector specifying the unique compartments to aggregate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat</code></td>
<td>
<p>The number of stratified groups in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hold_out_var</code></td>
<td>
<p>A character  vector specifying the unique compartments not to aggregate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_var</code></td>
<td>
<p>A character vector specifying the new variable to add when aggregating incidence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_col</code></td>
<td>
<p>A character string containing the name of the new id column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>A character vector with length equal to the level of stratification.
Used to name the stratified levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total_pop</code></td>
<td>
<p>A logical (defaults to <code>TRUE</code>) indicating if the total population should be
calculated when summarising the model demographics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary_var</code></td>
<td>
<p>A logical (defaults to <code>FALSE</code>), specifying whether to add an additional summary variable across
all stratified levels.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An aggregated dataframe.
</p>


<h3>See Also</h3>

<p>aggregate_model aggregate_model_internal combine_to_age_model combine_strat_model_output summarise_var_by_strat
</p>


<h3>Examples</h3>

<pre><code class="language-R">
df &lt;- data.frame(time = 1, A1 = 1, B1 = 1, A2 = 1, B2 = 1, A3 = 1, B3 = 1)

## Incidence
aggregate_model_internal(df, aggregate_to = "incidence",
                        compartments = c("A", "B"), strat = 3,
                        summary_var = TRUE)

## Demographic
aggregate_model_internal(df, aggregate_to = "demographic",
                        compartments = c("A", "B"), strat = 3,
                        summary_var = TRUE)
## Disease
aggregate_model_internal(df, aggregate_to = "disease",
                        compartments = c("A", "B"), strat = 3,
                        summary_var = TRUE)
## Tidy (long)
aggregate_model_internal(df, aggregate_to = "tidy",
                        compartments = c("A", "B"), hold_out_var = "time", strat = 3,
                        summary_var = TRUE, id_col = "Age",
                        groups = c("Children", "Young adults", "Adults"))
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>AR_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Anderson Rubin Test</h2>

<h3>Description</h3>

<p>Performs the Anderson Rubin test, which is robust to weak instruments.</p>


<h3>Usage</h3>

<pre><code class="language-R">AR_test(data, Y, D, Z, controls, FE = NULL, cl = NULL, weights = NULL, 
  prec = 4, CI = TRUE, alpha = 0.05, parallel = NULL, cores = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>name of a dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>a string indicating the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>a string indicating the treatment variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>a vector of strings indicating the instrumental variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>controls</code></td>
<td>
<p>a vector of strings indicating the control variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FE</code></td>
<td>
<p>a vector of strings indicating the fixed effects variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>a string indicating the clustering variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>a string indicating the variable that stores weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI</code></td>
<td>
<p>a logical flag controlling whether to calcualte the confidence interval using the inversion method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prec</code></td>
<td>
<p>precision of results (4 by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>level of statitical significance; the default is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>a logical flag controlling parallel computing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>setting the number of cores.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Fstat</code></td>
<td>
<p>F statistic, degrees of freedoms, and p-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.print</code></td>
<td>
<p>Confidence interval via intervsion (printed version).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>Confidence interval via intervsion (numeric version).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounded</code></td>
<td>
<p>If the confidence interval is bounded.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Chernozhukov, Victor, and Christian Hansen. 2008. "The Reduced Form: A Simple Approach to Inference with Weak Instruments." Economics Letters 100 (1): 68â€“71.
</p>


<h3>See Also</h3>

<p><code>ivDiag</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ivDiag)
AR.out &lt;- AR_test(data = rueda, Y = "e_vote_buying", D = "lm_pob_mesa", 
    Z = "lz_pob_mesa_f", controls = c("lpopulation", "lpotencial"),
    cl = "muni_code", CI = FALSE)
library(testthat)    
test_that("Check AR results", {
  expect_equal(as.numeric(AR.out$Fstat[1]), 48.4768)
})
</code></pre>


</div>
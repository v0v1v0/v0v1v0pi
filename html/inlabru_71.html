<div class="container">

<table style="width: 100%;"><tr>
<td>bru_mapper_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mapper for matrix multiplication</h2>

<h3>Description</h3>

<p>Create a matrix mapper, for a given number of columns
</p>


<h3>Usage</h3>

<pre><code class="language-R">bru_mapper_matrix(labels)

## S3 method for class 'bru_mapper_matrix'
ibm_n(mapper, ...)

## S3 method for class 'bru_mapper_matrix'
ibm_values(mapper, ...)

## S3 method for class 'bru_mapper_matrix'
ibm_jacobian(mapper, input, state = NULL, inla_f = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Column labels for matrix mappings; Can be factor, character,
or a single integer specifying the number of columns for integer column indexing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapper</code></td>
<td>
<p>A mapper S3 object, inheriting from <code>bru_mapper</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>Data input for the mapper.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>A vector of latent state values for the mapping,
of length <code>ibm_n(mapper, inla_f = FALSE)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inla_f</code></td>
<td>
<p>logical; when <code>TRUE</code> for <code>ibm_n()</code> and <code>ibm_values()</code>, the
result must be compatible with the <code>INLA::f(...)</code> and corresponding
<code>INLA::inla.stack(...)</code> constructions.  For <code style="white-space: pre;">⁠ibm_{eval,jacobian,linear}⁠</code>,
the <code>input</code> interpretation may be different.
Implementations do not normally need to do anything different, except
for mappers of the type needed for hidden multicomponent models such
as "bym2", which can be handled by <code>bru_mapper_collect</code>.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>bru_mapper, bru_mapper_generics
</p>
<p>Other mappers: 
<code>bru_get_mapper()</code>,
<code>bru_mapper()</code>,
<code>bru_mapper.fm_mesh_1d()</code>,
<code>bru_mapper.fm_mesh_2d()</code>,
<code>bru_mapper_aggregate()</code>,
<code>bru_mapper_collect()</code>,
<code>bru_mapper_const()</code>,
<code>bru_mapper_factor()</code>,
<code>bru_mapper_generics</code>,
<code>bru_mapper_harmonics()</code>,
<code>bru_mapper_index()</code>,
<code>bru_mapper_linear()</code>,
<code>bru_mapper_logsumexp()</code>,
<code>bru_mapper_marginal()</code>,
<code>bru_mapper_mesh_B()</code>,
<code>bru_mapper_multi()</code>,
<code>bru_mapper_pipe()</code>,
<code>bru_mapper_scale()</code>,
<code>bru_mapper_shift()</code>,
<code>bru_mapper_taylor()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">m &lt;- bru_mapper_matrix(labels = c("a", "b"))
ibm_values(m)
ibm_eval2(m, input = matrix(1:6, 3, 2), state = 2:3)

m &lt;- bru_mapper_matrix(labels = 2L)
ibm_values(m)
ibm_eval2(m, input = matrix(1:6, 3, 2), state = 2:3)

</code></pre>


</div>
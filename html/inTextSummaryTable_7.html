<div class="container">

<table style="width: 100%;"><tr>
<td>combineVariables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a data.frame combining a set of records from same or multiple variables.</h2>

<h3>Description</h3>

<p>This typically converts the data from a wide to a long format.
For each variable, a subset of interest based on a condition can be specified.
</p>


<h3>Usage</h3>

<pre><code class="language-R">combineVariables(
  data,
  paramsList,
  newVar,
  labelVars = NULL,
  fctTest = "==",
  includeAll = FALSE,
  labelAll = "Any"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data.frame with dataset to consider for the summary table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramsList</code></td>
<td>
<p>nested list of parameters, 
specifying how the records of interest should be selected.<br>
There are two ways to select a subset of interest:
</p>

<ul>
<li>
<p>by specifying one unique variable of interest with: 
</p>

<ul>
<li>
<p><code>var</code>: string with column of <code>data</code> of interest
</p>
</li>
<li>
<p><code>value</code>: value of <code>var</code> of interest (only used if <code>var</code> is specified).<br>
If not specified only the values different than NA and ‚Äù are considered.
</p>
</li>
<li>
<p><code>fctTest</code>: string with name or directly comparison function
to apply on <code>var</code> to select subset of interest versus <code>value</code>.<br>
The function should take <code>var</code> as first parameter and <code>value</code> to compare to
as second parameter and returns a logical vector with TRUE or FALSE (of length <code>var</code>)
if the condition is fullfilled.<br>
If not specified, the records with <code>var</code> equal to <code>value</code> are retained 
(<code>fctTest</code> is set to '=='). 
</p>
</li>
<li>
<p>label specification: 
</p>

<ul>
<li>
<p><code>label</code>: string with label for the condition,
includde in the new 'variable' column.<br>
If not specified and:
</p>

<ul>
<li>
<p><code>var</code> is specified: label is extracted from 
<code>labelVars</code> if available or set to <code>var</code> otherwise.
</p>
</li>
<li>
<p><code>var</code> is not specified: label should be specified.
</p>
</li>
</ul>
</li>
<li>
<p><code>labelExtra</code>: string with extra label, will be concatenated with <code>label</code>
</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>by specifying a combination of variable of interest with: 
</p>

<ul>
<li>
<p><code>exprs</code>: string with expression of columns of <code>data</code> to select subset of interest
</p>
</li>
<li>
<p><code>label</code>: string with complete label for the group
</p>
</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newVar</code></td>
<td>
<p>String with name of new variable to construct.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelVars</code></td>
<td>
<p>(optional) Named character vector with label for
the row, column variable(s) or variable(s) to summarize. <br>
Labels specified via dedicated parameter: e.g. 
<code>rowVarLab</code>, <code>colVarLab</code>, <code>varLab</code>
have priority on this parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fctTest</code></td>
<td>
<p>Default function to use to compare <code>var</code> and <code>value</code> specified
in each sublist of <code>paramsList</code>.<br>
This is only used if <code>fctTest</code> is not specified in each sublist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeAll</code></td>
<td>
<p>Logical, if TRUE (FALSE by default) include also the entire data as an additional subgroup.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelAll</code></td>
<td>
<p>String of group label for the entire data in case <code>includeAll</code> is TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data.frame with records from <code>data</code> extracted based on
the different conditions specified in <code>paramsList</code>.<br>
This data.frame contains an additional variable 
(labelled based on <code>newVar</code>) mentioning the
specific condition for which the record was extracted
(based <code>label</code>, <code>labelExtra</code>, <code>labelVars</code>).<br>
This variable is a factor whose levels are ordered based on the order
of the condition specified in <code>paramsList</code>.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


</div>
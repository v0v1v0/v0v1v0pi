<div class="container">

<table style="width: 100%;"><tr>
<td>get_annotations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>get image annotations</h2>

<h3>Description</h3>

<p>Calls the 'Google Vision' API to return annotations. The function automatically creates batches
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_annotations(images, features, max_res, mode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>images</code></td>
<td>
<p>A character vector for images to be annotated. Can either be url strings or local images, as specified with <code>mode</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features</code></td>
<td>
<p>A character vector for the features to be returned. Accepts <code>'all'</code> or any combination of the following inputs: <code>'label', 'web', 'text', 'face', 'landmark', 'logo', 'safe_search', 'object', 'properties'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_res</code></td>
<td>
<p>An integer specifying the maximum number of results to be returned for each feature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>Accepts <code>'url'</code> for image urls and <code>'local'</code> for file paths to local images.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An response object of class <code>'gvision_annotations'</code>.
</p>


<h3>See Also</h3>

<p>Google Vision <a href="https://cloud.google.com/vision/docs/features-list">features</a> and <a href="https://cloud.google.com/vision/quotas">quotas</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

 gvision_init()

 # one image url
 sw_image &lt;- 'https://upload.wikimedia.org/wikipedia/en/4/40/Star_Wars_Phantom_Menace_poster.jpg'
 results &lt;- get_annotations(images = sw_image, # image character vector
                           features = 'all', # request all available features
                           max_res = 10, # maximum number of results per feature
                           mode = 'url')  # maximum number of results per feature

 # multiple image urls
 finn_image &lt;- 'https://upload.wikimedia.org/wikipedia/en/2/2a/Finn-Force_Awakens_%282015%29.png'
 padme_image &lt;- 'https://upload.wikimedia.org/wikipedia/en/e/ee/Amidala.png'

 input_imgs &lt;- c(sw_image, finn_image, padme_image)
 results &lt;- get_annotations(images = input_imgs,
            features = c('label', 'face'), max_res = 5, mode = 'url')
            
 # one local image
 temp_img_path &lt;- tempfile(fileext = '.png')
 download.file(finn_image, temp_img_path, mode = 'wb', quiet = TRUE)

 results &lt;- get_annotations(images = temp_img_path,
            features = c('label', 'face'), max_res = 5, mode = 'local')
 
## End(Not run)



</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>fragmentation_spectra_annotator</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Fragmentation Spectra Annotator
</h2>

<h3>Description</h3>

<p>This module annotates fragmentation spectra from .MSP files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fragmentation_spectra_annotator(path, MSPfile = "", libFSdb,
libFSdbIDlist, targetedPrecursorType = NA, ratio2basePeak4nSpectraMarkers = 0,
allowedNominalMass = FALSE, allowedWeightedSpectralEntropy = TRUE,
noiseRemovalRatio = 0.01, roundingDigitPrefiltering = 1, minMatchedNumPeaks = 1,
massError = 0, maxNEME = 0, minIonRangeDifference = 0, minCosineSimilarity,
minEntropySimilarity, minRatioMatchedNspectraMarkers,
spectralEntropyDeviationPrefiltering, massErrorPrecursor = NA, RTtolerance = NA,
exportSpectraParameters = NULL, number_processing_threads = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>

<p>Address of .msp file(s)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MSPfile</code></td>
<td>

<p>name of the .msp file
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>libFSdb</code></td>
<td>

<p>A converted .msp library reference file using the 'msp2FSdb' module which is an FSDB produced by the IDSL.FSA package.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>libFSdbIDlist</code></td>
<td>

<p>Ion markers object from the FSDB reference
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetedPrecursorType</code></td>
<td>

<p>A vector of targeted precursor types
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio2basePeak4nSpectraMarkers</code></td>
<td>

<p>Ratio of peaks in fragmentation spectra to the basepeak to calculate minimum qualified number of matched abundant peaks
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allowedNominalMass</code></td>
<td>

<p>c(TRUE, FALSE). Select 'TRUE' only for nominal mass analysis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allowedWeightedSpectralEntropy</code></td>
<td>

<p>c(TRUE, FALSE). Weighted entropy to transform low abundant signals prior to calculating entropy similarity score. Please see the reference for details on wight transformation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noiseRemovalRatio</code></td>
<td>

<p>noise removal ratio ([0 - 1])relative to the basepeak to measure entropy similarity score.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roundingDigitPrefiltering</code></td>
<td>

<p>Level of pre-filtering
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minMatchedNumPeaks</code></td>
<td>

<p>Minimum matched number of peaks
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>massError</code></td>
<td>

<p>Mass accuracy in Da
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxNEME</code></td>
<td>

<p>Maximum value for Normalized Euclidean Mass Error (NEME) in mDa
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minIonRangeDifference</code></td>
<td>

<p>Minimum distance (Da) between lowest and highest matched m/z to prevent matching only isotopic envelopes
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minCosineSimilarity</code></td>
<td>

<p>Minimum cosine similarity score
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minEntropySimilarity</code></td>
<td>

<p>Minimum entropy similarity score
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minRatioMatchedNspectraMarkers</code></td>
<td>

<p>Minimum percentage of detection of abundant library peaks in percentage
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spectralEntropyDeviationPrefiltering</code></td>
<td>

<p>Spectral entropy deviation for pre-filtering
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>massErrorPrecursor</code></td>
<td>

<p>Mass accuracy (Da) to find precursor m/z in .msp files
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RTtolerance</code></td>
<td>

<p>Retention time tolerance (min)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exportSpectraParameters</code></td>
<td>

<p>Parameters for export MS/MS match figures
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_processing_threads</code></td>
<td>

<p>Number of processing threads for multi-threaded processing
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe of matched spectra
</p>


</div>
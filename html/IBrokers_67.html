<div class="container">

<table style="width: 100%;"><tr>
<td>twsConnect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Establish, Check or Terminate a Connection to TWS or IBG </h2>

<h3>Description</h3>

<p>Functions to initiate, check, or disconnect from the Trader
Workstation (TWS) or IB Gateway (IBG).
</p>


<h3>Usage</h3>

<pre><code class="language-R">twsConnect(clientId = 1, host = 'localhost', 
           port = 7496, verbose = TRUE, timeout = 5,
           filename = NULL, blocking=.Platform$OS.type=="windows")
ibgConnect(clientId = 1, host = 'localhost', 
           port = 4001, verbose = TRUE, timeout = 5,
           filename = NULL, blocking=.Platform$OS.type=="windows")

twsDisconnect(twsconn)

isConnected(twsconn)
is.twsConnection(x)
is.twsPlayback(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>clientId</code></td>
<td>
<p> the unique client id to associate with </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>host</code></td>
<td>
<p> the host server </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>port</code></td>
<td>
<p> the port that the TWS is listening on </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p> should the connection attempt be verbose </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p> length in seconds before aborting attempt </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p> file containing recorded TWS data </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocking</code></td>
<td>
<p> should a blocking connection be established. See details. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>twsconn</code></td>
<td>
<p> a valid <code>twsConnection</code> object </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> a connection to be checked </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Returns a <code>twsConnection</code> object for use in
subsequent TWS API calls. Attempting to create another
connection to the server with the same clientId will
result in an error.
</p>
<p>If <code>filename</code> is set to a file containing
data recorded in the standard TWS format - calls
using this connection will playback the recorded
data.
</p>
<p>While the <span class="pkg">IBrokers</span> package is fully cross-platform,
the behavior of sockets varies by operating system implementation.
In general, setting <code>blocking=TRUE</code> on Windows (the default on
Windows) results in more consistent and reliable connections.
This option is only exposed to enable debugging of platform differences
and optimization - and is not intended to be altered except in
those cases.
</p>


<h3>Value</h3>

<p>A <code>twsconn</code> object.
</p>


<h3>Note</h3>

<p>While it is not strictly required to disconnect via <code>twsDisconnect</code>
it is probably advisable.
</p>
<p>If not set options(digits.secs=6) will be called
internally to properly represent on screen the
R based timestamps.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Interactive Brokers: <a href="https://www.interactivebrokers.com">https://www.interactivebrokers.com</a></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
tws &lt;- twsConnect()
twsDisconnect(tws)

## End(Not run)
</code></pre>


</div>
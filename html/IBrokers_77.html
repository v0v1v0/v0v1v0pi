<div class="container">

<table style="width: 100%;"><tr>
<td>twsOption</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Create a twsContract for Options </h2>

<h3>Description</h3>

<p>Create a twsContract for use in API calls.
</p>


<h3>Usage</h3>

<pre><code class="language-R">twsOption(local,
          expiry="",
          strike="",
          right="",
          exch="SMART",
          primary="",
          currency='USD',
          symbol='',
          multiplier="100",
          include_expired='0',
          conId=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>local</code></td>
<td>
<p> the IB symbol requested </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expiry</code></td>
<td>
<p> option expiration CCYYMM [optional]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strike</code></td>
<td>
<p> the strike price [optional] </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>right</code></td>
<td>
<p> the requested right - ‘C’,‘CALL’,
‘P’, or ‘PUT’ [optional]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exch</code></td>
<td>
<p> the requested exchange [optional, defaults to SMART]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>primary</code></td>
<td>
<p> the primary exchange of the security [optional]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>currency</code></td>
<td>
<p> the requested currency [defaults to USD]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbol</code></td>
<td>
<p> the security name [optional]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiplier</code></td>
<td>
<p> the contract multiplier </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_expired</code></td>
<td>
<p> should expired contracts be included [defaults to “0” (false)] </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conId</code></td>
<td>
<p> contract ID </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A wrapper to <code>twsContract</code> to make ‘option’
contracts easier to specify.
</p>
<p>Some of the optionable parameters are contingent on the
request being made.  Refer to the <em>TWS</em> documentation
for details.
</p>
<p><code>twsOPT</code> is an alias.
</p>


<h3>Value</h3>

<p>A <code>twsContract</code> object.
</p>


<h3>Note</h3>

<p>Option contracts on the TWS have certain rules which are different than
standard data requests.  
</p>
<p>The <code>local</code> symbol is required. This can be found on the main TWS
screen under contract details, or via the web at <a href="https://www.interactivebrokers.com">https://www.interactivebrokers.com</a>
</p>
<p>Since the local symbol is required, all other values are redundant.  It is best to simply
specify the local name and let the TWS manage the lookup.
</p>
<p>The <code>expiry</code> needs to be either of class <code>Date</code> to be coerced to
a string of format ‘CCYYMM’, or provided in that format.
</p>
<p>Historical requests cannot be for a barSize=‘1 D’
or less frequent.  
</p>
<p><code>barSize</code> must be "1 min" per Interactive Brokers API.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Interactive Brokers: <a href="https://www.interactivebrokers.com">https://www.interactivebrokers.com</a></p>


<h3>See Also</h3>

 <p><code>reqMktData</code>, <code>twsContract</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">opt &lt;- twsOption("QQQAS",expiry="200901", strike="45.0", right="C")
</code></pre>


</div>
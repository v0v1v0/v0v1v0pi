<div class="container">

<table style="width: 100%;"><tr>
<td>ExportToXIF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>RIF/CIF File Writer</h2>

<h3>Description</h3>

<p>Subsets or merges RIF or CIF files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ExportToXIF(
  fileName,
  write_to,
  objects,
  offsets,
  fast = TRUE,
  extract_features = FALSE,
  endianness = .Platform$endian,
  verbose = FALSE,
  verbosity = 1,
  overwrite = FALSE,
  display_progress = TRUE,
  add_tracking = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fileName</code></td>
<td>
<p>path(s) of file(s) to subset or merge.
If multiple files are provided they will be merged. Otherwise, if only one file is input it will be subsetted.
All files have to be either '.rif' or '.cif' files.
All files should have same channels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write_to</code></td>
<td>
<p>pattern used to export file.
Placeholders, like "%d/%s_fromR.%e", will be substituted:<br>
-%d: with full path directory of first element of 'fileName'<br>
-%p: with first parent directory of first element of 'fileName'<br>
-%e: with extension of first element of 'fileName' (without leading .)<br>
-%s: with shortname from of first element of 'fileName' (i.e. basename without extension).<br>
Exported file extension will be deduced from this pattern. It has to be the same as 'fileName', i.e. .cif or .rif.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objects</code></td>
<td>
<p>integer vector, IDEAS objects ids numbers to use. If missing, the default, all objects will be used. Only apply for subsetting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offsets</code></td>
<td>
<p>object of class ‘IFC_offset'. If missing, the default, offsets will be extracted from ’fileName'.<br>
This param is not mandatory but it may allow to save time for repeated XIF export on same file. Only apply for subsetting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fast</code></td>
<td>
<p>whether to fast extract 'objects' or not. Default is TRUE.
Meaning that 'objects' will be extracted expecting that 'objects' are stored in ascending order.<br>
Note that a warning will be sent if an 'object' is found at an unexpected order.
In such a case you may need to rerun function with 'fast' = FALSE.
If set to FALSE, all object_ids will be scanned from 'fileName' to ensure extraction of desired 'objects'.<br>
IMPORTANT: whatever this argument is, features are extracted assuming an ascending order of storage in file.<br>
Only apply for subsetting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extract_features</code></td>
<td>
<p>whether to try to extract features. Default is FALSE.
IMPORTANT: it is not clear if how features are stored and which objects they rely to when input file is already a merge or a subset.
For this reason it should be carefully checked.
Note that features extraction is not implemented for merging.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endianness</code></td>
<td>
<p>the endian-ness ("big" or "little") of the target system for the file. Default is .Platform$endian.<br>
Endianness describes the bytes order of data stored within the files. This parameter may not be modified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>whether to display information (use for debugging purpose). Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbosity</code></td>
<td>
<p>quantity of information displayed when verbose is TRUE; 1: normal, 2: rich. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>whether to overwrite file or not. Default is FALSE.<br>
Note that if TRUE, it will overwrite exported file if path(s) of file(s) in 'fileName' and deduced from 'write_to' arguments are different.
Otherwise, you will get an error saying that overwriting source file is not allowed.<br>
Note also that an original file, i.e. generated by IDEAS(R) or INSPIRE(R), will never be overwritten.
Otherwise, you will get an error saying that overwriting original file is not allowed.<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display_progress</code></td>
<td>
<p>whether to display a progress bar. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_tracking</code></td>
<td>
<p>whether to register files' paths and objects' ids in the exported file. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to be passed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>when 'extract_features' is set TRUE, only features stored in binary format will be extracted if found.<br>
If the input 'fileName' is a merged of several files then features will be extracted from these files.<br>
If these files can't be found, Warning(s) will be thrown and input 'fileName' will be extracted without features values.
</p>


<h3>Value</h3>

<p>It invisibly returns full path of exported file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(requireNamespace("IFCdata", quietly = TRUE)) {
  tmp &lt;- tempdir(check = TRUE)
  ## use a cif file, but you can also subset rif
  file_cif &lt;- system.file("extdata", "example.cif", package = "IFCdata")
  ## subset objects 0,1 and 4 from file
  exported &lt;- ExportToXIF(fileName = file_cif, write_to = paste0(tmp, "\\test.cif"),
                          overwrite = TRUE, objects = c(0,1,4))
} else {
  message(sprintf('Please run `install.packages("IFCdata", repos = "%s", type = "source")` %s',
                  'https://gitdemont.github.io/IFCdata/',
                  'to install extra files required to run this example.'))
}
</code></pre>


</div>
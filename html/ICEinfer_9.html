<div class="container">

<table style="width: 100%;"><tr>
<td>ICEcolor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Preference Colors for Outcomes within a Bootstrap Confidence Wedge</h2>

<h3>Description</h3>

<p>Assuming the input ICEw object is of class ICEwedge, ICEcolor uses lambda = lfact * ICEw$lambda
to define an ICE Preference Map with specified parameters (lfact, beta, gamma) to compute
Economic Preference values. Only the Bootstrap re-sampled points within the ICE confidence wedge
are used. Thus, assuming that the overall level of confidence (statistical size of the wedge) is
held fixed, the points to be colored are always the very same points for all choices of lambda.
However, the numerical value of preference (and thus the color) of each such point as well as
the overall symmetry or asymmetry in the resulting ICE map can depend greatly upon lambda. 
</p>


<h3>Usage</h3>

<pre><code class="language-R"> ICEcolor(ICEw, lfact = 1, beta = 1, gamma = 3+2*sqrt(2)) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ICEw</code></td>
<td>
<p>Existing ICEwedge object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lfact</code></td>
<td>
<p>Strictly positive multiplier for ICEw$lambda.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>Strictly positive Returns-to-Scale power parameter for the ICE
Preference Map.  beta = 1 implies linear (constant) Returns to Scale.  beta &gt; 0 and &lt; 1
implies diminishing Returns to Scale.  beta &gt; 1 implies increasing Returns to Scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>Strictly positive Directional power parameter.  The smallest reasonable value
for gamma is usually gamma = beta, which yields a (generalized) linear map.  The largest
reasonable value for gamma is usually gamma = beta*(3+2*sgrt(2)), which yields a map that
satisfies the Cartesian Monotonicity Axiom and also admits all possible finite values for
WTP and WTA, i.e. all values greater than or equal to 0 but less than +Inf.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Multiple calls to ICEcolor() are usually made for different lfact multipliers of
LCEw$lambda item as well as different choices for the ICE Preference power parameters, beta
and gamma.  Calls to plot(x, alibi) for these alternative ICEcolor x-objects can be used
to illustrate that exogenous Economic Uncertainty can literally SWAMP the Statistical
Uncertainty endogenous to patient level data on the relative cost and effectiveness of two
treatments.  
</p>


<h3>Value</h3>

<p>Object of class ICEcolor containing an output list with the following items:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Saved value of the name of the data.frame input to ICEcolor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>Saved positive value of lambda input to ICEcolor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>Saved value of unit, cost or effe, input to ICEcolor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>Saved integer value for number of bootstrap replications input to ICEcolor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trtm</code></td>
<td>
<p>Saved name of the treatment indicator within the df data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xeffe</code></td>
<td>
<p>Saved name of the treatment effectiveness variable within the df data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ycost</code></td>
<td>
<p>Saved name of the treatment cost variable within the df data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effcst</code></td>
<td>
<p>Saved value of the sorted 3-variable (trtm,effe,cost) data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t1</code></td>
<td>
<p>Observed value of (DeltaEffe, DeltaCost) when each patient is sampled exactly once.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>R x 2 matrix of values of (DeltaEffe, DeltaCost) computed from bootstrap resamples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Saved value of the seed used to start pseudo random number generation.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Bob Obenchain &lt;wizbob@att.net&gt;</p>


<h3>References</h3>

<p>Cook JR, Heyse JF.  Use of an angular transformation for ratio estimation in cost-effectiveness
analysis.  <em>Statistics in Medicine</em>  2000; <b>19</b>: 2989-3003.
</p>
<p>Obenchain RL.  ICE Preference Maps: Nonlinear Generalizations of Net Benefit and Acceptability.
<em>Health Serv Outcomes Res Method</em>  2008; <b>8</b>: 31-56. DOI 10.1007/s10742-007-0027-2.
Open Access.
</p>


<h3>See Also</h3>

<p><code>ICEwedge</code>, <code>plot.ICEcolor</code> and <code>print.ICEcolor</code></p>


<h3>Examples</h3>

<pre><code class="language-R">  # Read in previously computed ICEwedge output list.
  data(dpwdg)
  dpcol &lt;- ICEcolor(dpwdg)
  # Display preference coloring for the stored value of lambda.
  plot(dpcol, show="RBOW")
  dpcolX &lt;- ICEcolor(dpwdg, lfact=10)
  # Display preference coloring when lambda is increased by a factor of 10.
  plot(dpcolX, show="RBOW")
</code></pre>


</div>
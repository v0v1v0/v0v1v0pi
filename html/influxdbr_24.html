<div class="container">

<table style="width: 100%;"><tr>
<td>influx_write</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write an xts or data.frame object to an InfluxDB server</h2>

<h3>Description</h3>

<p>This function writes either an <code>xts</code> object or a <code>data.frame</code> to an InfluxDB server.
In case of an xts object, columnnames of the <code>xts</code> object are used as InfluxDB's field keys,
<code>xts</code>'s coredata represent field values. Attributes are preserved and written
as tag keys and values, respectively.
</p>
<p>In case of a <code>data.frame</code>, columns may represent times and both tag and field values.
Columnnames of the <code>data.frame</code> object are used as InfluxDB's tag and field keys.
Times and tags are optional. Use parameter <code>time_col</code> and <code>tag_col</code> to define
the interpretation. By specifiying one of the arguments <code>measurement</code> or <code>measurement_col</code>,
a data.frame may contain data from one measurement or multiple measurements, respectively.
</p>


<h3>Usage</h3>

<pre><code class="language-R">influx_write(x, con, db, measurement, rp = NULL, precision = c("s", "ns",
  "u", "ms", "m", "h"), consistency = c(NULL, "one", "quroum", "all", "any"),
  max_points = 5000, use_integers = FALSE, ...)

## S3 method for class 'xts'
influx_write(x, con, db, measurement, rp = NULL,
  precision = c("s", "ns", "u", "ms", "m", "h"), consistency = c(NULL,
  "one", "quroum", "all", "any"), max_points = 5000, use_integers = FALSE,
  ...)

## S3 method for class 'data.frame'
influx_write(x, con, db, measurement = NULL, rp = NULL,
  precision = c("s", "ns", "u", "ms", "m", "h"), consistency = c(NULL,
  "one", "quroum", "all", "any"), max_points = 5000, use_integers = FALSE,
  time_col = NULL, tag_cols = NULL, measurement_col = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The object to write to an InfluxDB server (either of class <code>xts</code> or <code>data.frame</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>con</code></td>
<td>
<p>An <code>influx_connection</code> object (s. <code>influx_connection</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>Sets the target database for the query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurement</code></td>
<td>
<p>Sets the name of the measurement (data.frame has data to write
to one measurement only). If both arguments <code>measurement</code> and <code>measurement_col</code>
are given, <code>measurement</code> gets overridden.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rp</code></td>
<td>
<p>Sets the target retention policy for the write. If not present the
default retention policy is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
<p>Sets the precision of the supplied Unix time values
("s", "ns", "u", "ms", "m", "h"). If not present timestamps are assumed to be
in seconds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>consistency</code></td>
<td>
<p>Set the number of nodes that must confirm the write.
If the requirement is not met the return value will be partial write
if some points in the batch fail, or write failure if all points in the batch
fail.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_points</code></td>
<td>
<p>Defines the maximum points per batch (defaults to 5000).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_integers</code></td>
<td>
<p>Should integers (instead of doubles) be written if present?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_col</code></td>
<td>
<p>A character scalar naming the time index column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tag_cols</code></td>
<td>
<p>A character vector naming tag columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurement_col</code></td>
<td>
<p>A character scalar naming the measurement column (data.frame
has data to write to multiple measurements). Overrides <code>measurement</code> argument.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of server responses.
</p>


<h3>References</h3>

<p><a href="https://docs.influxdata.com/influxdb/">https://docs.influxdata.com/influxdb/</a>
</p>


<h3>See Also</h3>

<p><code>xts</code>, <code>influx_connection</code>
</p>


</div>
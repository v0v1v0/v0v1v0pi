<div class="container">

<table style="width: 100%;"><tr>
<td>objectTransform</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Object Transformation</h2>

<h3>Description</h3>

<p>Function to normalize, colorize and add background to images.
</p>


<h3>Usage</h3>

<pre><code class="language-R">objectTransform(
  mat,
  msk,
  color,
  input_range,
  mode,
  type,
  add_noise = TRUE,
  random_seed = NULL,
  size = c(0, 0),
  bg_mean = 0,
  bg_sd = 0,
  full_range = FALSE,
  force_range = FALSE,
  gamma = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>a finite numeric matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msk</code></td>
<td>
<p>a finite numeric matrix (mask identifying abnormalities). If missing, the default no cleansing will be done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>a color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_range</code></td>
<td>
<p>a finite numeric vector of 2 values, sets the range of the input intensity values. Values outside this range are clipped. Default is <code>[0,4095]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>color mode export. Either <code>"rgb"</code>, <code>"gray"</code> or <code>"raw"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>image object type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_noise</code></td>
<td>
<p>whether to add normal noise to background or not. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_seed</code></td>
<td>
<p>a list of elements to pass to set.seed or a single value, interpreted as an integer, or NULL to be used when <code>'add_noise'</code> is set to <code>TRUE</code>. Default is <code>NULL</code>.
Note that <code>NA_integer_</code> or <code>list(seed = NA_integer_)</code> can be used to not call set.seed at all.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>a length 2 integer vector of final dimensions of the image, height 1st and width 2nd. Default is <code>c(0,0)</code> for no change.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg_mean</code></td>
<td>
<p>mean value of the background added if <code>'add_noise'</code> is <code>TRUE</code>. Default is <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg_sd</code></td>
<td>
<p>standard deviation of the background added if <code>'add_noise'</code> is <code>TRUE</code>. Default is <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full_range</code></td>
<td>
<p>only apply when <code>'mode'</code> is not <code>"raw"</code>, if <code>'full_range'</code> is <code>TRUE</code>, then <code>'input_range'</code> will be set to <code>[0,4095]</code> and <code>'gamma'</code> forced to <code>1</code>. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_range</code></td>
<td>
<p>bool, only apply when <code>'mode'</code> is not <code>"raw"</code>, if <code>'force_range'</code> is <code>TRUE</code>, then <code>'input_range'</code> will be adjusted to object range in <code>[-4095,+inf]</code> and <code>'gamma'</code> forced to <code>1</code>. Default is <code>FALSE</code>.<br>
Note that this parameter takes the precedence over <code>'input_range'</code> and <code>'full_range'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>correction. Default is <code>1</code>, for no correction.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>'add_noise'</code> is <code>FALSE</code> and <code>attr(msk, "removal")</code> is <code>"masked"</code> or <code>"MC"</code>,
background will be automatically set to minimal pixel value.
</p>


<h3>Value</h3>

<p>the matrix transformed according to input parameters
</p>


</div>
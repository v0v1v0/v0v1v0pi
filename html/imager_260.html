<div class="container">

<table style="width: 100%;"><tr>
<td>watershed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute watershed transform.</h2>

<h3>Description</h3>

<p>The watershed transform is a label propagation algorithm. The value of non-zero pixels will get propagated to their zero-value neighbours. The propagation is controlled by a priority map. See examples.
</p>


<h3>Usage</h3>

<pre><code class="language-R">watershed(im, priority, fill_lines = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>im</code></td>
<td>
<p>an image</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priority</code></td>
<td>
<p>Priority map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_lines</code></td>
<td>
<p>Sets if watershed lines must be filled or not.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
#In our initial image we'll place three seeds 
#(non-zero pixels) at various locations, with values 1, 2 and 3. 
#We'll use the watershed algorithm to propagate these values
imd &lt;- function(x,y) imdirac(c(100,100,1,1),x,y)
im &lt;- imd(20,20)+2*imd(40,40)+3*imd(80,80)
layout(t(1:3))
plot(im,main="Seed image")
#Now we build an priority map: neighbours of our seeds 
#should get high priority. 
#We'll use a distance map for that
p &lt;- 1-distance_transform(sign(im),1) 
plot(p,main="Priority map")
watershed(im,p) %&gt;% plot(main="Watershed transform")
</code></pre>


</div>
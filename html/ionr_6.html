<div class="container">

<table style="width: 100%;"><tr>
<td>optimal_p</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find an optimal p-value for SONE</h2>

<h3>Description</h3>

<p>a wrapper that runs the maximum and minimum scenarios using <code>scenario_sim</code> and provides the optimal p -value
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimal_p(sizes, n_sim = 100, plotting = "", n_indicators = 8,
  to_min = (round((n_indicators/2), 0)) - 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sizes</code></td>
<td>
<p>An array of sample sizes to be simulated. Can be single value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sim</code></td>
<td>
<p>number of simulations. 1000 is a start, 10000 was used in paper, but takes a long time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotting</code></td>
<td>
<p>Plots the result with <code>optimal_p_out</code>. Defaults to ”. Possible options: ” - no plot; 'yes' - a regular plot;  'file' – writes the plot to a tiff file in working directory. If sizes is a single value, plotting is disabled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_indicators</code></td>
<td>
<p>How many many indicators are there in a scale. The package is tested with 8 indicators (default), but should work with other number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to_min</code></td>
<td>
<p>How many indicators relate to the outcome in the lack of ION condition. In <code>optimal_p</code> defaults to (round((n_indicators/2),0)) - 1), i.e close to half the number of indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further tweaking of the scale simulator, see  <code>scale_sim</code> for details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the P criterion, as well as the p values for max and min scenario for each sample size. If min pvalue &gt; max pvalue, then p criterion is NA.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(466)
n_sim=100
ptm &lt;- proc.time()
a=optimal_p(sizes=750, n_sim=n_sim, n_indicators=8, cor_to_outcome=0.25)
stp=proc.time() - ptm
print(paste("Currently elapsed:",round(stp[3],1)))
print(paste("Time estimate for n_sim=5000:",round(stp[3]*5000/n_sim,1)))

</code></pre>


</div>
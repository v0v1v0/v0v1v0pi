<div class="container">

<table style="width: 100%;"><tr>
<td>marrayAge</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Creates age-dependent m-arrays
</h2>

<h3>Description</h3>

<p>Converts single-state capture-recapture data to age-dependent m-arrays.
</p>


<h3>Usage</h3>

<pre><code class="language-R">marrayAge(ch, age = 1, mAge = 1, freq = 1, groups = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ch</code></td>
<td>

<p>an individuals x time matrix with capture histories (0: not captured; 1: captured). See Details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>

<p>vector with the age class at first capture for each individual, or a scalar that will be used for all individuals.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mAge</code></td>
<td>

<p>maximum number of age classes for which m-arrays are constructed; ignored if <code>max(age) &gt; mAge</code>. Only required if the <code>age</code> vector has fewer age classes than we want to separate (e.g. capture histories <code>ch</code> contains only individuals marked as juveniles, and we want 2 age classes).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>

<p>a vector with the number of animals with each capture history, or a matrix with a column for each group. If a single value is supplied, it will be used for all rows in the capture history; the default is to assume each row corresponds to a single animal.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>

<p>a factor (or a vector that can be coerced to a factor) which identifies the group that each row of <code>ch</code> refers to. Ignored if <code>freq</code> is a matrix with &gt; 1 column.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>ch</code> can be a matrix of unique capture histories accompanied by a vector or matrix, <code>freq</code>, specifying the number of animals with each capture history. Trap losses can be indicated either by negative values for <code>freq</code>, or by filling the row with NA after the last capture. For other formats, see <code>ch2matrix</code>.
</p>


<h3>Value</h3>

<p>A 4-d array, (years-1) x years x age classes x groups, where element [i, j, k, g] contains the number of individuals in group g of age class k released in year i and recaptured in year j+1 (by definition no recaptures can occur in year 1). If no groups are specified, this will be a 3-d array, (years-1) x years x age classes. The last column contains the number of individuals released in year i and never recaptured.
</p>


<h3>Author(s)</h3>

<p>Michael Schaub
</p>


<h3>References</h3>

<p>Schaub, M., KÃ©ry, M. (2022) <em>Integrated Population Models</em>, Academic Press, section 4.5.1.2.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(woodchat5)
dim(woodchat5$ch)  # 1902 animals x 20 years
marrayAge(ch=woodchat5$ch, age=woodchat5$age, mAge=2)
</code></pre>


</div>
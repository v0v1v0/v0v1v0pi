<div class="container">

<table style="width: 100%;"><tr>
<td>run.pc.tsne</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run tSNE on PCA Data. Barnes-Hut implementation of t-Distributed Stochastic Neighbor Embedding</h2>

<h3>Description</h3>

<p>This function takes an object of class iCellR and runs tSNE on PCA data. Wrapper for the C++ implementation of Barnes-Hut t-Distributed Stochastic Neighbor Embedding. t-SNE is a method for constructing a low dimensional embedding of high-dimensional data, distances or similarities. Exact t-SNE can be computed by setting theta=0.0.
</p>


<h3>Usage</h3>

<pre><code class="language-R">run.pc.tsne(
  x = NULL,
  dims = 1:10,
  my.seed = 0,
  add.3d = TRUE,
  initial_dims = 50,
  perplexity = 30,
  theta = 0.5,
  check_duplicates = FALSE,
  pca = TRUE,
  max_iter = 1000,
  verbose = FALSE,
  is_distance = FALSE,
  Y_init = NULL,
  pca_center = TRUE,
  pca_scale = FALSE,
  stop_lying_iter = ifelse(is.null(Y_init), 250L, 0L),
  mom_switch_iter = ifelse(is.null(Y_init), 250L, 0L),
  momentum = 0.5,
  final_momentum = 0.8,
  eta = 200,
  exaggeration_factor = 12
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class iCellR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dims</code></td>
<td>
<p>PC dimentions to be used for tSNE analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>my.seed</code></td>
<td>
<p>seed number, default = 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.3d</code></td>
<td>
<p>Add 3D tSNE as well, default = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial_dims</code></td>
<td>
<p>integer; the number of dimensions that should be retained in the initial PCA step (default: 50)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perplexity</code></td>
<td>
<p>numeric; Perplexity parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>numeric; Speed/accuracy trade-off (increase for less accuracy), set to 0.0 for exact TSNE (default: 0.5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_duplicates</code></td>
<td>
<p>logical; Checks whether duplicates are present. It is best to make sure there are no duplicates present and set this option to FALSE, especially for large datasets (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca</code></td>
<td>
<p>logical; Whether an initial PCA step should be performed (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iter</code></td>
<td>
<p>integer; Number of iterations (default: 1000)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; Whether progress updates should be messageed (default: FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_distance</code></td>
<td>
<p>logical; Indicate whether X is a distance matrix (experimental, default: FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_init</code></td>
<td>
<p>matrix; Initial locations of the objects. If NULL, random initialization will be used (default: NULL). Note that when using this, the initial stage with exaggerated perplexity values and a larger momentum term will be skipped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca_center</code></td>
<td>
<p>logical; Should data be centered before pca is applied? (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca_scale</code></td>
<td>
<p>logical; Should data be scaled before pca is applied? (default: FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop_lying_iter</code></td>
<td>
<p>integer; Iteration after which the perplexities are no longer exaggerated (default: 250, except when Y_init is used, then 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mom_switch_iter</code></td>
<td>
<p>integer; Iteration after which the final momentum is used (default: 250, except when Y_init is used, then 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>momentum</code></td>
<td>
<p>numeric; Momentum used in the first part of the optimization (default: 0.5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final_momentum</code></td>
<td>
<p>numeric; Momentum used in the final part of the optimization (default: 0.8)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p>numeric; Learning rate (default: 200.0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exaggeration_factor</code></td>
<td>
<p>numeric; Exaggeration factor used to multiply the P matrix in the first part of the optimization (default: 12.0)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class iCellR.
</p>


</div>
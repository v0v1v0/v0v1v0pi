<div class="container">

<table style="width: 100%;"><tr>
<td>newMarginMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create empty margin matrix</h2>

<h3>Description</h3>

<p>Use this to create an empty margin matrix (which facilitates
the use of magrittr syntax to enter margins)
</p>


<h3>Usage</h3>

<pre><code class="language-R">newMarginMatrix()
</code></pre>


<h3>Examples</h3>

<pre><code class="language-R">library(magrittr)
N &lt;- 230 ## population total
## Horvitz Thompson estimator of the mean: 2.174
weightedMean(data_employees$movies, data_employees$weight, N)
## Enter calibration margins:
margins &lt;- newMarginMatrix() %&gt;%
  addMargin("category", c(0.35, 0.40, 0.25)) %&gt;%
  addMargin("sex", c(0.6, 0.4)) %&gt;%
  addMargin("department", c(0.45, 0.55)) %&gt;%
  addMargin("salary", 470000)
## Compute calibrated weights with raking ratio method
wCal &lt;- calibration(data=data_employees, marginMatrix=margins, colWeights="weight"
                    , method="raking", pct = TRUE, description=FALSE
                    , popTotal = N)
## Calibrated estimate: 2.471917
weightedMean(data_employees$movies, wCal, N)
</code></pre>


</div>
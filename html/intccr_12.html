<div class="container">

<table style="width: 100%;"><tr>
<td>dataprep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data manipulation</h2>

<h3>Description</h3>

<p>The function <code>dataprep</code> reshapes data from a long format to a ready-to-use format to be used directly in the function <code>ciregic</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dataprep(data, ID, time, event, Z)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame that includes the variables named in the <code>ID</code>, <code>time</code>, <code>event</code>, and <code>z</code> arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>a variable indicating individuals' ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>a variable indicating observed time points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>a vector of event indicator. If an observation is righ-censored, <code>event = 0</code>; otherwise, <code>event = 1</code> or <code>event = 2</code>, where <code>1</code> represents the first cause of failure, and <code>2</code> represents the second cause of failure. The current version of package only allows two causes of failure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>a vector of variables indicating name of covariates</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>dataprep</code> provides a ready-to-use data format that can be directly used in the function <code>ciregic</code>. The returned data frame consists of <code>id</code>, <code>v</code>, <code>u</code>, <code>c</code>, and covariates as columns. The <code>v</code> and <code>u</code> indicate time window with the last observation time before the event and the first observation after the event. The <code>c</code> represents a type of event, for example, <code>c = 1</code> for the first cause of failure, <code>c = 2</code> for the second cause of failure, and <code>c = 0</code> for the right-censored. For individuals having one time record with the event, the lower bound <code>v</code> will be replaced by zero, for example <code>(0, v]</code>. For individuals having one time record without the event, the upper bound <code>u</code> will be replaced by <code>Inf</code>, for example <code>(v, Inf]</code>.
</p>


<h3>Value</h3>

<p>a data frame
</p>


<h3>Author(s)</h3>

<p>Jun Park, <a href="mailto:jun.park@alumni.iu.edu">jun.park@alumni.iu.edu</a>
</p>
<p>Giorgos Bakoyannis, <a href="mailto:gbakogia@iu.edu">gbakogia@iu.edu</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(intccr)
dataprep(data = longdata, ID = id, time = t, event = c, Z = c(z1, z2))

</code></pre>


</div>
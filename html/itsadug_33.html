<div class="container">

<table style="width: 100%;"><tr>
<td>plot_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualization of the model fit for time series data.</h2>

<h3>Description</h3>

<p>Plots the data, fitted values, or residuals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_data(
  model,
  view,
  split_by = NULL,
  cond = NULL,
  input = "data",
  rm.ranef = NULL,
  alpha = NULL,
  col = NULL,
  add = FALSE,
  eegAxis = FALSE,
  main = NULL,
  xlab = NULL,
  ylab = NULL,
  ylim = NULL,
  h0 = 0,
  v0 = NULL,
  hide.label = FALSE,
  transform = NULL,
  transform.view = NULL,
  print.summary = getOption("itsadug_print"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A lm or gam object, produced by <code>gam</code> or 
<code>bam</code>, <code>lm</code>, <code>glm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>view</code></td>
<td>
<p>Text string containing the predictor or column in the data 
to be displayed on the x-axis. 
Note that variables coerced to factors in the model formula 
won't work as view variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_by</code></td>
<td>
<p>Vector with names of model predictors that determine
the time series in the data, or should be used to split the ACF plot by.
Alternatively, <code>split_pred</code> can be a named list 
(each with equal length as the data) that 
group the data, fitted values or residuals 
values of <code>x</code> into trials or timeseries events. 
Generally other columns from the same data frame as the model was fitted on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cond</code></td>
<td>
<p>A named list of the values to use for the other predictor terms 
(not in view) or to select specific trials or time series to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>Text string: 'data' (default) plots the data, 'resid' plots 
the model residuals, and 'fitted' plots the fitted values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm.ranef</code></td>
<td>
<p>Logical: whether or not to include the random effects in 
the model predictions. Default is TRUE. Relevant for <code>input='fitted'</code> 
and <code>input='resid'</code> (i.e., whether or not the residuals contain the 
random effects, TRUE and FALSE respectively ).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Value between 0 and 1 indicating the transparency. 
A value of 0 is completely transparant, whereas a value of 1 is completely 
untransparant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Vector with one color value (i.e., all data points will have the 
same color), color values for each grouping condition specified in 
<code>split_by</code> or a vector with color values for each data point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>Logical: whether or not to add the lines/points to an existing 
plot, or start a new plot (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eegAxis</code></td>
<td>
<p>Logical: whether or not to reverse the y-axis, plotting the 
negative amplitudes upwards as traditionally is done in EEG research.
If eeg.axes is TRUE, labels for x- and y-axis are provided, when not 
provided by the user. Default value is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Changing the main title for the plot, see also title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Changing the label for the x axis, 
defaults to a description of x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Changing the label for the y axis, 
defaults to a description of y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>the y limits of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h0</code></td>
<td>
<p>A vector indicating where to add solid horizontal lines for 
reference. By default no values provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v0</code></td>
<td>
<p>A vector indicating where to add dotted vertical lines for 
reference. By default no values provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hide.label</code></td>
<td>
<p>Logical: whether or not to hide the label 
(i.e., 'fitted values'). Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>Function for transforming the fitted values. 
Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform.view</code></td>
<td>
<p>Function for transforming the view values. 
Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.summary</code></td>
<td>
<p>Logical: whether or not to print a summary.
Default set to the print info messages option 
(see <code>infoMessages</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other options to pass on to lines and plot, 
see <code>par</code></p>
</td>
</tr>
</table>
<h3>Notes</h3>

<p>This function plots the fitted effects, including intercept and other 
predictors.
</p>


<h3>Author(s)</h3>

<p>Jacolien van Rij, idea of Tino Sering
</p>


<h3>See Also</h3>

<p>Other Functions for model inspection: 
<code>dispersion()</code>,
<code>fvisgam()</code>,
<code>gamtabs()</code>,
<code>inspect_random()</code>,
<code>plot_parametric()</code>,
<code>plot_smooth()</code>,
<code>plot_topo()</code>,
<code>pvisgam()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(simdat)

## Not run: 
# Create grouping predictor for time series:
simdat$Event &lt;- interaction(simdat$Subject, simdat$Trial)

# model without random effects:
m1 &lt;- bam(Y ~ te(Time, Trial) + s(Subject, bs='re'),
    data=simdat)

# All data points, without clustering:
plot_data(m1, view='Time')

# All data, clustered by Trial (very small dots):
plot_data(m1, view='Time', split_by='Trial',
    cex=.25)
# Add a smooth for each trial:
plot_smooth(m1, view='Time', plot_all='Trial', 
    add=TRUE, rm.ranef=TRUE)
# Add the model predictions in same color:
plot_smooth(m1, view='Time', plot_all='Trial', add=TRUE, rm.ranef=TRUE)

# Alternatively, use data to select events:
plot_data(m1, view='Time', split_by=list(Event=simdat$Event),
    type='l')
# which is the same as:
plot_data(m1, view='Time', split_by=list(Subject=simdat$Subject, Trial=simdat$Trial),
    type='l')
# Only for Trial=0
plot_data(m1, view='Time', split_by=list(Event=simdat$Event),
   cond=list(Trial=0), type='l')
# This is the same:
plot_data(m1, view='Time', split_by='Subject',
   cond=list(Trial=0), type='l')
# Add subject smooths:
plot_smooth(m1, view='Time', plot_all='Subject', 
    cond=list(Trial=0), add=TRUE)

# Change the colors:
plot_data(m1, view='Time', split_by='Subject',
   cond=list(Trial=0), type='l', col='gray', alpha=1)

## End(Not run)

</code></pre>


</div>
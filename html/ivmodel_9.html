<div class="container">

<table style="width: 100%;"><tr>
<td>biasLovePlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Love plot of treatment bias and instrument bias</h2>

<h3>Description</h3>

<p><code>biasLovePlot</code> creates a Love plot of the bias across the treatment and the instrument. Can also display the permutation quantiles for these quantities. Note that the bias is different for the treatment than for the instrument, as discussed in Equation (3) of Branson and Keele (2020). This function is used to create Figure 3b in Branson and Keele (2020).
</p>


<h3>Usage</h3>

<pre><code class="language-R">biasLovePlot(X, D, Z, permQuantiles = FALSE, alpha = 0.05, perms = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Covariate matrix (with units as rows and covariates as columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>Indicator vector for a binary treatment (must contain 1 or 0 for each unit).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>Indicator vector for a binary instrument (must contain 1 or 0 for each unit).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>permQuantiles</code></td>
<td>
<p>If <code>TRUE</code>, displays the permutation quantiles for the biases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The significance level used for the permutation quantiles. For example, if <code>alpha = 0.05</code>, then the 2.5% and 97.5% permutation quantiles are displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perms</code></td>
<td>
<p>Number of permutations used to approximate the permutation quantiles.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Plot of the bias across the treatment and the instrument.
</p>


<h3>Author(s)</h3>

<p>Zach Branson and Luke Keele
</p>


<h3>References</h3>

<p>Branson, Z. and Keele, L. (2020). Evaluating a Key Instrumental Variable Assumption Using Randomization Tests. American Journal of Epidemiology. To appear.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  #load the data
  data(icu.data)
  #the covariate matrix is
  X = as.matrix(subset(icu.data, select = -c(open_bin, icu_bed)))
  #the treatment
  D = icu.data$icu_bed
  #the instrument
  Z = icu.data$open_bin
  #make the Love plot with permutation quantiles
  ## Not run: biasLovePlot(X = X, D = D, Z = Z, permQuantiles = TRUE, perms = 500)
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>ivDiag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>User diagnostics for getsFun() and isat()</h2>

<h3>Description</h3>

<p><code>ivDiag</code> provides several diagnostic tests for 2SLS models that can be
used during model selection. Currently, a weak instrument F-test of the first
stage(s) and the Sargan test of overidentifying restrictions on the validity
of the instruments are implemented.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ivDiag(x, weak = FALSE, overid = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A list containing the estimation results of the 2SLS model. Must
contain an entry <code>$diag</code> that contains the diagnostics provided by the
<code>ivreg::ivreg()</code> command.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weak</code></td>
<td>
<p>A logical value whether to conduct weak instrument tests.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overid</code></td>
<td>
<p>A logical value whether to conduct the Sargan test of
overidentifying restrictions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The resulting matrix also has an attribute named
<code>"is.reject.bad"</code>, which is a logical vector of length <em>m</em>. Each
entry records whether a rejection of the test means that the diagnostics
have failed or vice versa. The first entry refers to the first row, the
second entry to the second row etc. However, this attribute is not used in
the following estimations. Instead, the decision rule is specified inside
the <code>user.fun</code> argument of <code>gets::diagnostics()</code>, which allows for a
named entry <code>$is.reject.bad</code>.
</p>


<h3>Value</h3>

<p>Returns a matrix with three columns named <code>"statistic"</code>,
<code>"df"</code>, and <code>"p-value"</code> and <em>m</em> rows. Each row records these
results for one of the tests, so the number of rows varies by the arguments
specified and the model (e.g. how many first stages equations there are).
</p>


</div>
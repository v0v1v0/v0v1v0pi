<div class="container">

<table style="width: 100%;"><tr>
<td>buildGraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>IFC Graph Coercion</h2>

<h3>Description</h3>

<p>Helper to build a list to allow graph export.
</p>


<h3>Usage</h3>

<pre><code class="language-R">buildGraph(
  type = c("histogram", "scatter", "density")[3],
  xlocation = 0,
  ylocation = 0,
  f1 = "Object Number",
  f2 = "Object Number",
  scaletype = 1,
  xmin = -1,
  xmax = 1,
  ymin = 0,
  ymax = 1,
  title = paste0(unlist(lapply(BasePop, FUN = function(x) x$name)), collapse = ", "),
  xlabel = f1,
  ylabel = f2,
  axislabelsfontsize = 10,
  axistickmarklabelsfontsize = 10,
  graphtitlefontsize = 12,
  regionlabelsfontsize = 10,
  bincount = 0,
  freq = c("T", "F")[1],
  histogramsmoothingfactor = 0,
  xlogrange = "P",
  ylogrange = "P",
  maxpoints = +Inf,
  stats = c("true", "false")[2],
  xsize = c(320, 480, 640)[1],
  ysize = xsize + ifelse(stats == "true", splitterdistance, 0),
  splitterdistance = 120,
  xstats = "Count|%Gated|Mean",
  ystats = xstats,
  order,
  xstatsorder,
  Legend,
  BasePop = list(list()),
  GraphRegion = list(list()),
  ShownPop = list(list()),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Graph's type. Either "histogram", "scatter" or "density". Default is "density".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlocation</code></td>
<td>
<p>Integer. Graph's x location. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylocation</code></td>
<td>
<p>Integer. Graph's x location. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f1</code></td>
<td>
<p>Character. Graph x axis parameter. Default is "Object Number".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f2</code></td>
<td>
<p>Character. Graph y axis parameter. Default is "Object Number". Only used when 'type' is not "histogram".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaletype</code></td>
<td>
<p>Integer. Graph scale. Either 0 (auto), 1 (manual). Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmin</code></td>
<td>
<p>Double. Graph's xmin. Default -1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmax</code></td>
<td>
<p>Double. Graph's xmax. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymin</code></td>
<td>
<p>Double. Graph's xmin. Default 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymax</code></td>
<td>
<p>Double. Graph's xmax. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Character. Graph title label. Default will use names of BasePop collapse with ', '.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabel</code></td>
<td>
<p>Character. Graph x axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylabel</code></td>
<td>
<p>Character. Graph y axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axislabelsfontsize</code></td>
<td>
<p>Integer. Axis label font size. Default is 10. Allowed are: 8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28.<br>
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axistickmarklabelsfontsize</code></td>
<td>
<p>Integer. Axis tick font size. Default is 10. Allowed are: 8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28.<br>
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graphtitlefontsize</code></td>
<td>
<p>Integer. Axis title font size. Default is 12. Allowed are: 8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28.<br>
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regionlabelsfontsize</code></td>
<td>
<p>Integer. Axis region font size. Default is 10. Allowed are: 8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28.<br>
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bincount</code></td>
<td>
<p>Integer. Histogram bin count. Default is 0. Allowed are: 0, 8, 16, 32, 64, 128, 256, 512, 1024.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>Character. Histogram with frequency normalization of not. Default is "T", allowed are "T" or "F".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>histogramsmoothingfactor</code></td>
<td>
<p>Integer. Histogram smoothing factor. Allowed are [0-20]. Only partly implemented, default is 0 for no smoothing other values will produce same smoothing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlogrange</code></td>
<td>
<p>determines transformation instruction for x-axis. Default is "P" for no transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylogrange</code></td>
<td>
<p>determines transformation instruction for y-axis. Default is "P" for no transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxpoints</code></td>
<td>
<p>determines the maximum number of points to display. Default is +Inf to display all points.<br>
If provided, values from ]0,1] will be used as a proportion of the total number of points to show.<br>
While values values superior to 1 will be interpreted as the maximal number of points to show.<br>
It only applies to 2D graphs. When 'type' is "histogram", +Inf will be used whatever the value provided as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stats</code></td>
<td>
<p>Character. Either "true" or "false" to display stats. Default is "false".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsize</code></td>
<td>
<p>Integer. Graph's x size. Default is 320 for small. Regular are: 320 (small), 480 (medium), 640 (big).
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ysize</code></td>
<td>
<p>Integer. Graph's y size. Default is 'ysize' + 'splitterdistance' when 'stats' is set to "true".
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splitterdistance</code></td>
<td>
<p>Integer. Default is 120.
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xstats</code></td>
<td>
<p>Character. x stats to be computed. Default is 'Count|%Gated|Mean'.
It has to be a filled with the concatenation of 'Count', '%Total', '%Gated', 
'%Plotted', 'Objects/mL', 'Mean', 'Median', 'Std. Dev.', 'MAD', 'CV',
'Minimum', 'Maximum', 'Geo. Mean', 'Mode', 'Variance' and /or 'NaN', collapse with '|'.
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ystats</code></td>
<td>
<p>Character. y stats to be computed. Should be identical to 'xstats'. Default is xstats.
Checked but not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Character. Order to display populations. 
When 'type' is "density" it will be BasePop[[1]]$name.
When 'type' is "histogram" or "density" 'ShownPop' are not allowed
Otherwise, it will use each of 'GraphRegion', 'BasePop' and 'ShownPop' names, collapse with '|'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xstatsorder</code></td>
<td>
<p>Character. Order of stat rows.
It will use each of 'GraphRegion' names &amp; each of 'BasePop' names, reverted and collapse with '|'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Legend</code></td>
<td>
<p>Default is list(list(onoff='false',x='0',y='0',witdh='96',height='128')).
Not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BasePop</code></td>
<td>
<p>Default is list(list()). See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GraphRegion</code></td>
<td>
<p>Default is list(list()). Only allowed member are sub-list(s) with only one character component named 'name'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ShownPop</code></td>
<td>
<p>Default is list(list()). Only allowed member are sub-list(s) with only one character component named 'name'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to be passed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Many parameters are not used or are only partly implemented, but most are checked in order to be compatible for further export.<br>
For 'BasePop', if left as is "All" will be used as default.<br>
This parameter will be built / checked according to 'type' argument.<br>
'BasePop' has to be a list of list(s) and each sub-list should can contain several elements, but only "name" is mandatory.<br>
The sublist members are:<br>
-"name", "linestyle", "fill",<br>
and only when 'type' is "density"<br>
-"densitybincount", "densitymin", "densitymax",<br>
-"densitycolors", "densitycolorslightmode", "densitycolorsdarkmode",<br>
-"densitylevel", "densitytrans".<br>
Each sub-list will be created automatically with the following default values (except if explicitly provided):<br>
-linestyle="Solid",<br>
-fill="true",<br>
-densitybincount="128",densitymin="0",densitymax="0",<br>
-densitycolors="-16776961|-13447886|-256|-23296|-65536|",<br>
-densitycolorslightmode="-16776961|-13447886|-256|-23296|-65536|",<br>
-densitycolorsdarkmode="-16776961|-13447886|-256|-23296|-65536|",<br>
-densitylevel="",<br>
*when provided it has to be in a format of "fill[true,false]|lines[true,false]|nlevels[integer&gt;1]|lowest[numeric[0-1[]|"
*describing how the levelplot should be drawn.<br>
*Besides, 'densitrans' will not be used.
-densitytrans="asinh"<br>
*it can take a function to be applied to the 2D local densities<br>
*or a name of a feature within 'IFC_data' object to draw a gradient against this feature<br>
Note that when 'type' is "density", 'BasePop' should be of length one.<br>
and fill will be overwritten to "true".
</p>


<h3>Value</h3>

<p>a list containing all graph information.
</p>


</div>
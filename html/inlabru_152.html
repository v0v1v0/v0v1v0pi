<div class="container">

<table style="width: 100%;"><tr>
<td>evaluate_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate or sample from a posterior result given a model and locations</h2>

<h3>Description</h3>

<p>Evaluate or sample from a posterior result given a model and locations
</p>


<h3>Usage</h3>

<pre><code class="language-R">evaluate_model(
  model,
  state,
  data = NULL,
  input = NULL,
  comp_simple = NULL,
  predictor = NULL,
  format = NULL,
  used = NULL,
  ...
)

evaluate_state(
  model,
  result,
  property = "mode",
  n = 1,
  seed = 0L,
  num.threads = NULL,
  internal_hyperpar = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A bru model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>list of state lists, as generated by <code>evaluate_state()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>list</code>, <code>data.frame</code>, or <code>Spatial*DataFrame</code>, with coordinates
and covariates needed to evaluate the predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>Precomputed inputs list for the components</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp_simple</code></td>
<td>
<p>Precomputed <code>comp_simple_list</code> for the components</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor</code></td>
<td>
<p>A formula or an expression to be evaluated given the
posterior or for each sample thereof. The default (<code>NULL</code>) returns a
<code>data.frame</code> containing the sampled effects. In case of a formula the right
hand side is used for evaluation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>character; determines the storage format of predictor output.
Available options:
</p>

<ul>
<li> <p><code>"auto"</code> If the first evaluated result is a vector or single-column matrix,
the "matrix" format is used, otherwise "list".
</p>
</li>
<li> <p><code>"matrix"</code> A matrix where each column contains the evaluated predictor
expression for a state.
</p>
</li>
<li> <p><code>"list"</code> A list where each element contains the evaluated predictor
expression for a state.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>used</code></td>
<td>
<p>A <code>bru_used()</code> object, or NULL (default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to <code>inla.posterior.sample</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>A <code>bru</code> object from <code>bru()</code> or <code>lgcp()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>property</code></td>
<td>
<p>Property of the model components to obtain value from.
Default: "mode". Other options are "mean", "0.025quant", "0.975quant",
"sd" and "sample". In case of "sample" you will obtain samples from the
posterior (see <code>n</code> parameter). If <code>result</code> is <code>NULL</code>, all-zero vectors are
returned for each component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of samples to draw.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>If seed != 0L, the random seed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.threads</code></td>
<td>
<p>Specification of desired number of threads for parallel
computations. Default NULL, leaves it up to INLA.
When seed != 0, overridden to "1:1"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>internal_hyperpar</code></td>
<td>
<p>logical; If <code>TRUE</code>, return hyperparameter properties
on the internal scale. Currently ignored when <code>property="sample"</code>.
Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul><li> <p><code>evaluate_model</code> is a wrapper to evaluate model state, A-matrices,
effects, and predictor, all in one call.
</p>
</li></ul>
<ul><li> <p><code>evaluate_state</code> evaluates model state properties or samples
</p>
</li></ul>
</div>
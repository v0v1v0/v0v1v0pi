<div class="container">

<table style="width: 100%;"><tr>
<td>ipf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Re-weight a Seed Table to Marginal Controls</h2>

<h3>Description</h3>

<p>Re-weight a Seed Table to Marginal Controls
</p>


<h3>Usage</h3>

<pre><code class="language-R">ipf(
  seed,
  targets,
  relative_gap = 0.01,
  absolute_gap = 1,
  max_iterations = 50,
  min_weight = 1e-04,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>A <code>data frame</code> including a <code>weight</code> field and necessary
columns for matching to marginal targets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targets</code></td>
<td>
<p>A <code>named list</code> of data frames.  Each name in the list 
defines a marginal dimension and must match a column from the seed table. 
The data frame associated with each name must start with an identical 
column named <code>cluster</code>. Each row in the target table defines a new 
cluster (these could be TAZs, tracts, districts, etc.), and every target 
table must have the same number of rows/clusters. The other column names
define the marginal categories that targets are provided for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative_gap</code></td>
<td>
<p>target for convergence.  Maximum percent change to allow
any seed weight to move by while considering the process converged.  By 
default, if no weights change by more than 1
The process is said to be converged if either <code>relative_gap</code> or 
<code>absolute_gap</code> parameters have been met.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolute_gap</code></td>
<td>
<p>target for convergence.  Maximum absolute change to allow
any seed weight to move by while considering the process converged.  By 
default, if no weights change by more than 10, the process has converged.
The process is said to be converged if either <code>relative_gap</code> or 
<code>absolute_gap</code> parameters have been met.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iterations</code></td>
<td>
<p>maximum number of iterations to perform, even if 
convergence is not reached.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_weight</code></td>
<td>
<p>Minimum weight to allow in any cell to prevent zero weights.
Set to .0001 by default.  Should be arbitrarily small compared to your 
seed table weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print details on the maximum expansion factor with each 
iteration? Default <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the seed <code>data frame</code> with a column of weights appended for each
row in the target <code>data.frames</code>
</p>


</div>
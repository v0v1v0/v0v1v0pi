<div class="container">

<table style="width: 100%;"><tr>
<td>idaGlm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generalized Linear Models (GLM)</h2>

<h3>Description</h3>

<p> This function computes generalized linear models on the contents of an <code>ida.data.frame</code>. </p>


<h3>Usage</h3>

<pre><code class="language-R">
idaGlm(	form, data, id = "id", intercept = T, family = "bernoulli", family_param = -1, 
          link = "logit", link_param = 1, maxit = 20, eps = 1e-3, tol = 1e-7, 
          method = "irls", trials = NULL, incolumn = "", interaction = "", 
          modelname = NULL, format = "glm", raw.resid = F, dropAfter = F, ...)
          
## S3 method for class 'idaGlm'
print(x, ...)
## S3 method for class 'idaGlm'
predict(object, newdata, id, outtable = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p>A <code>formula</code> object that describes the GLM to build.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An <code>ida.data.frame</code> object that stores the data to be used for GLM building.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>The ID column name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>The intercept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>The type of error distribution. It can have one of the follwing values: 
"bernoulli", "gaussian", "poisson", "binomial", "negativebinomial", "wald", "gamma"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family_param</code></td>
<td>
<p>A family-specific parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link</code></td>
<td>
<p>Type of the link function. It can have one of the follwoing values:</p>
</td>
</tr>
</table>
<p>"clog", "cloglog", "gaussit", "identity", "log", "logit", "oddspower", "power", "probit", and "sqrt".
For Db2 for z/OS it can have the following values as well:
"canbinom", "cangeom", "cannegbinom", "cauchit", "inverse", "invnegative", "invsquare", "loglog" .
</p>
<table>
<tr style="vertical-align: top;">
<td><code>link_param</code></td>
<td>
<p>Link parameter, 1 by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>Maximum number of iterations. 20 by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>Maximum (relative) error used as a stopping criterion. This should be sufficiently small for the algorithm to work.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>The tolerance for the linear equation solver to consider a value equal to be zero. This should be sufficiently small for the algorithm to work.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Computing algorithm: either <code>"irls"</code> ("iteratively reweighted least square") or <code>"psgd"</code> ("parallel stochastic gradient descent").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trials</code></td>
<td>
<p>The input table column containing the number of trials for the binominal distribution. Ignored unless family is 'binomial'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incolumn</code></td>
<td>
<p>Overwrite automatic creation of incolumn parameter and specify your own incolumn here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction</code></td>
<td>
<p>Overwrite automatic creation of interaction parameter and specify your own interaction here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelname</code></td>
<td>
<p>Name of the model that will be created in the database. Will be created automatically if not specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Specify output format. Either <code>"glm"</code> for output looking like <code>stats::glm</code> or <code>raw</code> for downloading all results as <code>data.frame</code>s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw.resid</code></td>
<td>
<p>If <code>format</code> equals <code>"raw"</code>, whether to download the residuals or return <code>NULL</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropAfter</code></td>
<td>
<p>Whether to drop the results after downloading them as specified in <code>format</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>idaGlm</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An <code>idaGlm</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>New data used for prediction as <code>ida.data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outtable</code></td>
<td>
<p>The name of the table the results will be written in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For more details on the GLM algorithm and requirements to the <code>data</code>, please refer to
the documentation of the <code>nza..GLM</code> stored procedure in the Netezza
In-Database Analytics Reference Guide or Netezza In-Database Analytics Developers Guide.
</p>


<h3>Value</h3>


<ul>
<li>
<p> The function <code>idaGlm</code> returns the generalized linear regression model of classes 
<code>glm</code> and <code>idaGlm</code> if <code>format</code> equals <code>"glm"</code> or a <code>list</code> of
<code>data.frame</code>s if <code>format</code> equals <code>"raw"</code>.
</p>
</li>
<li>
<p> The functions <code>print</code> and <code>summary</code> have no return values.
</p>
</li>
<li>
<p> The function <code>predict</code> returns an <code>ida.data.frame</code> that contains the predicted values.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#Add isSetosa column to iris data frame
iris2 &lt;- iris
iris2$isSetosa &lt;- ifelse(iris2$Species=="setosa", 1, 0)

#Store the iris2 data frame in the IRIS2 table
idf &lt;-as.ida.data.frame(iris2, table="IRIS2", clear.existing=T, rownames="ID")

#Calculate GLM model in-db
glm &lt;- idaGlm(isSetosa~PetalLength+SepalLength*SepalWidth+PetalWidth, idf, id="ID")

#Print the model
print(glm)

#Apply the model to data
idf2 &lt;- predict(glm, idf, "ID")

#Inspect the results
head(idf2)


## End(Not run)</code></pre>


</div>
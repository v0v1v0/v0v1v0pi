<div class="container">

<table style="width: 100%;"><tr>
<td>genGammaSplines</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate Gamma moments for splines</h2>

<h3>Description</h3>

<p>The user can declare that the unobservable enters into the MTRs in
the form of splines. This function generates the gamma moments for
the splines. The specifications for the spline must be passed as an
element generated by <code>removeSplines</code>. This function
accounts for the interaction between covariates and splines.
</p>


<h3>Usage</h3>

<pre><code class="language-R">genGammaSplines(
  splinesobj,
  data,
  lb,
  ub,
  multiplier = 1,
  subset,
  d = NULL,
  means = TRUE,
  late.rows = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>splinesobj</code></td>
<td>
<p>a list generated by <code>removeSplines</code>
applied to either the <code>m0</code> and <code>m1</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a <code>data.frame</code> object containing all the variables
that interact with the spline components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lb</code></td>
<td>
<p>vector of lower bounds for the interval of
integration. Each element corresponds to an observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ub</code></td>
<td>
<p>vector of upper bounds for the interval of
integration. Each element corresponds to an observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiplier</code></td>
<td>
<p>a vector of the weights that enter into the
integral. Each element corresponds to an observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Subset condition used to select observations with
which to estimate gamma.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>either 0 or 1, indicating the treatment status.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>means</code></td>
<td>
<p>boolean, default set to <code>TRUE</code>. Set to
<code>TRUE</code> if estimates of the gamma moments should be
returned. Set to <code>FALSE</code> if the gamma estimates for each
observation should be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>late.rows</code></td>
<td>
<p>Boolean vector indicating which observations to
include when conditioning on covariates X.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a matrix, corresponding to the splines being integrated
over the region specified by <code>lb</code> and <code>ub</code>,
accounting for the interaction terms. The number of rows is
equal to the number of rows in <code>data</code>. The number of
columns depends on the specifications of the spline. The name
of each column takes the following form: "u[d]S[j].[b]", where
"u" and "S" are fixed and stand for "unobservable" and
"Splines" respectively. "[d]" will be either 0 or 1, depending
on the treatment status. "[j]" will be an integer indicating
which element of the list <code>splines</code> the column pertains
to. "[b]" will be an integer reflect which component of the
basis the column pertains to.
</p>


</div>
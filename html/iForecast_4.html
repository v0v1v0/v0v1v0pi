<div class="container">

<table style="width: 100%;"><tr>
<td>iForecast</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract predictions and class probabilities from train objects</h2>

<h3>Description</h3>

<p>It generates both the static and recursive time series plots of machine learning prediction object generated by ttsCaret, ttsAutoML and ttsLSTM.
</p>


<h3>Usage</h3>

<pre><code class="language-R">iForecast(Model,newdata,type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Model</code></td>
<td>

<p>Object of trained model.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>The dataset for pediction, the column names must be the same as the trained data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> If type="static", it computes the (static) forecasting values of insample model fit. If type="dynamic", it iteratively computes the multistep forecasting values given the insample estimated model. For dynamic forecasts, AR term is required.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function generates forecasts of ttsCaret,ttsAutoML, and ttsLSTM.
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>The forecasted time series target variable. For binary case, it returns both porbabilities and class.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Ho Tsung-wu &lt;tsungwu@ntnu.edu.tw&gt;, College of Management, National Taiwan Normal University.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Cross-validation takes time, example below is commented.
## Machine Learning by library(caret)
#Case 1. Low frequency, regression type
data("macrodata")
dep &lt;- macrodata[569:669,"unrate",drop=FALSE]
ind &lt;- macrodata[569:669,-1,drop=FALSE]
train.end &lt;- "2018-12-01"# Choosing the end dating of train

models &lt;- c("svm","rf","rpart")[1]
type &lt;- c("none","trend","season","both")[1]
#output &lt;- ttsCaret(y=dep, x=ind, arOrder=c(1), xregOrder=c(1),
# method=models, tuneLength =1, train.end, type=type,resampling="cv",preProcess = #"center")
# testData1 &lt;- window(output$data,start="2019-01-01",end=end(output$data))
#P1 &lt;- iForecast(Model=output,newdata=testData1,type="static")
#P2 &lt;- iForecast(Model=output,newdata=testData1,type="dynamic")

#tail(cbind(testData1[,1],P1))
#tail(cbind(testData1[,1],P2))

#Case 2. Low frequency, binary type
data(bc) #binary dependent variable, business cycle phases
dep=bc[,1,drop=FALSE]
ind=bc[,-1]

train.end=as.character(rownames(dep))[as.integer(nrow(dep)*0.8)]
test.start=as.character(rownames(dep))[as.integer(nrow(dep)*0.8)+1]

#output = ttsCaret(y=dep, x=ind, arOrder=c(1), xregOrder=c(1), method=models,
#                   tuneLength =10, train.end, type=type)

#testData1=window(output$data,start=test.start,end=end(output$data))

#head(output$dataused)
#P1=iForecast(Model=output,newdata=testData1,type="static")
#P2=iForecast(Model=output,newdata=testData1,type="dynamic")

#tail(cbind(testData1[,1],P1),10)
#tail(cbind(testData1[,1],P2),10)

</code></pre>


</div>
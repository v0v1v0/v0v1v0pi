<div class="container">

<table style="width: 100%;"><tr>
<td>gendistSplines</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate test data set with splines</h2>

<h3>Description</h3>

<p>This code generates population level data to test the
estimation function. This data set incorporates splines in the
MTRs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gendistSplines()
</code></pre>


<h3>Details</h3>

<p>The distribution of the data is as follows
</p>
<p>|     Z
X/Z   |  0     1
_______|___________
-1 | 0.1   0.1
|
X   0 | 0.2   0.2
|
1 | 0.1   0.2
</p>
<p>The data presented below will have already integrated over the
unobservable terms U, and U | X, Z ~ Unif[0, 1].
</p>
<p>The propensity scores are generated according to the model
</p>
<p>p(x, z) = 0.5 - 0.1 * x + 0.2 * z
</p>
<p>|     Z
p(X,Z) |  0     1
_______|___________
-1 | 0.6   0.8
|
X   0 | 0.5   0.7
|
1 | 0.4   0.6
</p>
<p>The lowest common multiple of the first table is 12. The lowest
common multiple of the second table is 84. It turns out that 840 *
5 = 4200 observations is enough to generate the population data
set, such that each group has a whole-number of observations.
</p>
<p>The MTRs are defined as follows:
</p>
<p>y1 ~ beta0 + beta1 * x + uSpline(degree = 2,
knots  = c(0.3, 0.6),
intercept = FALSE)
</p>
<p>The coefficients (beta1, beta2), and the coefficients on the
splines, will be defined below.
</p>
<p>y0 = x : uSpline(degree = 0,
knots  = c(0.2, 0.5, 0.8),
intercept = TRUE)
+ uSpline(degree = 1,
knots  = c(0.4),
intercept = TRUE)
+ beta3 * I(u ^ 2)
</p>
<p>The coefficient beta3, and the coefficients on the splines, will be
defined below.
</p>


<h3>Value</h3>

<p>a list of two data.frame objects. One is the distribution
of the simulated data, the other is the full simulated data
set.
</p>


</div>
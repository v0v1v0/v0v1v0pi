<div class="container">

<table style="width: 100%;"><tr>
<td>dbLoad</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load clonotype databases such as VDJDB and McPAS into the R workspace</h2>

<h3>Description</h3>

<p>The function automatically detects the database format and loads it into R.
Additionally, the function provides a general query interface to databases that allows
filtering by species, chain types (i.e., locus) and pathology (i.e., antigen species).
</p>
<p>Currently we support three popular databases:
</p>
<p>VDJDB - <a href="https://github.com/antigenomics/vdjdb-db">https://github.com/antigenomics/vdjdb-db</a>
</p>
<p>McPAS-TCR - <a href="http://friedmanlab.weizmann.ac.il/McPAS-TCR/">http://friedmanlab.weizmann.ac.il/McPAS-TCR/</a>
</p>
<p>TBAdb from PIRD - <a href="https://db.cngb.org/pird/">https://db.cngb.org/pird/</a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">dbLoad(.path, .db, .species = NA, .chain = NA, .pathology = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.path</code></td>
<td>
<p>Character. A path to the database file, e.g., "/Users/researcher/Downloads/McPAS-TCR.csv".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.db</code></td>
<td>
<p>Character. A database type: either "vdjdb", "vdjdb-search", "mcpas" or "tbadb".
</p>
<p>"vdjdb" for VDJDB; "vdjdb-search" for search table obtained from the web interface of VDJDB;
"mcpas" for McPAS-TCR; "tbadb" for PIRD TBAdb.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.species</code></td>
<td>
<p>Character. A string or a vector of strings specifying which species need to be in the database, e.g., "HomoSapiens".
Pass NA (by default) to load all available species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.chain</code></td>
<td>
<p>Character. A string or a vector of strings specifying which chains need to be in the database, e.g., "TRB".
Pass NA (by default) to load all available chains.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.pathology</code></td>
<td>
<p>Character. A string or a vector of strings specifying which disease, virus, bacteria or any condition
needs to be in the database, e.g., "CMV".
Pass NA (by default) to load all available conditions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data frame with the input database records.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example file path
file_path &lt;- paste0(system.file(package = "immunarch"), "/extdata/db/vdjdb.example.txt")

# Load the database with human-only TRB-only receptors for all known antigens
db &lt;- dbLoad(file_path, "vdjdb", "HomoSapiens", "TRB")
db
</code></pre>


</div>
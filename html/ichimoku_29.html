<div class="container">

<table style="width: 100%;"><tr>
<td>oanda_chart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>OANDA Real-time Cloud Charts</h2>

<h3>Description</h3>

<p>Plot real-time Ichimoku Kinko Hyo cloud charts for major currencies, metals,
commodities, government bonds and stock indices using OANDA fxTrade API
data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">oanda_chart(
  instrument,
  granularity = c("D", "W", "M", "H12", "H8", "H6", "H4", "H3", "H2", "H1", "M30", "M15",
    "M10", "M5", "M4", "M2", "M1", "S30", "S15", "S10", "S5"),
  refresh = 5,
  count = 250,
  price = c("M", "B", "A"),
  theme = c("classic", "dark", "mono", "noguchi", "okabe-ito", "solarized"),
  type = c("none", "r", "s"),
  limit,
  server,
  apikey,
  ...,
  periods = c(9L, 26L, 52L)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>instrument</code></td>
<td>
<p>string containing the base currency and quote currency
delimited by '_' or '-' (e.g. "USD_JPY" or "usd-jpy"). Use the
<code>oanda_instruments</code> function to return a list of all valid
instruments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>granularity</code></td>
<td>
<p>[default "D"] the granularity of the price data to fetch,
one of "M", "W", "D", "H12", "H8", "H6", "H4", "H3", "H2", "H1", "M30",
"M15", "M10", "M5", "M4", "M2", "M1", "S30", "S15", "S10", "S5".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refresh</code></td>
<td>
<p>[default 5] data refresh interval in seconds, with a minimum
of 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count</code></td>
<td>
<p>[default 250] the number of periods to return. The API supports
a maximum of 5000. Note that fewer periods are actually shown on the
chart to ensure a full cloud is always displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>price</code></td>
<td>
<p>[default "M"] pricing component, one of "M" (midpoint), "B"
(bid) or "A" (ask).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>[default 'classic'] with further choices of ‘dark’,
‘mono’, ‘noguchi’, ‘okabe-ito’ or ‘solarized’.
Alternatively, supply a vector of 12 colour values (hex codes or names)
as a user-defined theme.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>[default 'none'] type of sub-plot to display beneath the ichimoku
cloud chart, with a choice of 'none', 'r' or 's' for the corresponding
oscillator type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>(optional) specify a time in seconds by which to limit the
session. The session will end with data returned automatically after the
specified time has elapsed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>server</code></td>
<td>
<p>(optional) specify the "practice" or "live" server according to
the account type held. If not specified, will default to "practice",
unless this has been changed by <code>oanda_switch</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apikey</code></td>
<td>
<p>(optional) string containing the OANDA fxTrade API key
(personal access token), or function that returns this string. Does not
need to be specified if already stored as the environment variable
<code>OANDA_API_KEY</code> or by <code>oanda_set_key</code>. Can also be
entered interactively if not specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed along to <code>ichimoku</code> for
calculating the ichimoku cloud or <code>autoplot</code> to set chart
parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>periods</code></td>
<td>
<p>[default c(9L, 26L, 52L)] a vector defining the length of
periods used for the cloud. This parameter shoud not normally be modified
as using other values would be invalid in the context of traditional
ichimoku analysis.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function polls the OANDA fxTrade API for the latest live prices
and updates the plot in the graphical device at each refresh interval.
Use 'ctrl+c' or 'Esc' to interrupt and stop updating.
</p>
<p>To access the underlying data, assign the function to an object, for
example: <code>cloud &lt;- oanda_chart("USD_JPY")</code>.
</p>


<h3>Value</h3>

<p>The ichimoku object underlying the chart (invisibly) on function exit.
A plot of the ichimoku chart for the price data requested is output to the
graphical device at each refresh interval.
</p>


<h3>Further Details</h3>

<p>Please refer to the OANDA fxTrade API vignette by calling:
<code>vignette("xoanda", package = "ichimoku")</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# OANDA fxTrade API key required to run these examples
oanda_chart("USD_JPY")
oanda_chart("EUR_JPY", granularity = "H1", refresh = 3, count = 300, price = "B", theme = "mono")

# Save data underlying chart at time of function exit
cloud &lt;- oanda_chart("USD_JPY")

## End(Not run)

</code></pre>


</div>